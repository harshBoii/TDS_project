{"version":3,"sources":["../src/configs/chat-model/base.config.chat-model.google.ts","../src/configs/chat-model/common.config.chat-model.google.ts","../src/configs/chat-model/c1.config.chat-model.google.ts","../src/configs/chat-model/reasoning.config.chat-model.google.ts","../src/configs/embedding-model/base.config.embedding-model.google.ts","../src/configs/embedding-model/common.config.embedding-model.google.ts","../src/configs/configs.google.ts","../src/provider/provider.google.ts","../src/models/pricing.json","../src/models/chat-models/types/roles.chat-model.google.ts","../src/models/chat-models/types/modalities.chat-model.google.ts","../src/models/chat-models/types/response.chat-model.google.ts","../src/models/chat-models/types/request.chat-model.google.ts","../src/models/chat-models/base-chat-model.google.ts","../src/models/chat-models/base-gemini-1-chat-model.google.ts","../src/models/chat-models/gemini-1.0-pro-001.google.ts","../src/models/chat-models/gemini-1.0-pro-latest.google.ts","../src/models/chat-models/gemini-1.0-pro-vision.google.ts","../src/models/chat-models/gemini-1.0-pro.google.ts","../src/models/chat-models/gemini-1.5-flash-001.google.ts","../src/models/chat-models/gemini-1.5-flash-002.google.ts","../src/models/chat-models/gemini-1.5-flash-latest.google.ts","../src/models/chat-models/gemini-1.5-flash.google.ts","../src/models/chat-models/gemini-1.5-pro-001.google.ts","../src/models/chat-models/gemini-1.5-pro-002.google.ts","../src/models/chat-models/gemini-1.5-pro-latest.google.ts","../src/models/chat-models/gemini-1.5-pro.google.ts","../src/models/chat-models/gemini-2.0-flash-exp.google.ts","../src/models/chat-models/gemini-2.5-flash-preview-04-17.google.ts","../src/models/chat-models/gemini-2.5-pro-preview-03-25.google.ts","../src/models/chat-models/gemini-pro-vision.google.ts","../src/models/chat-models/gemini-pro.google.ts","../src/models/embedding-models/types/modalitites.embedding-model.google.ts","../src/models/embedding-models/types/response.embedding-model.google.ts","../src/models/embedding-models/types/request.embedding-model.google.ts","../src/models/embedding-models/base-embedding-model.google.ts","../src/models/embedding-models/text-embedding-001.google.ts","../src/models/embedding-models/text-embedding-004.google.ts"],"names":["temperature","max","_default","RangeConfigItem","CHAT_CONFIG","maxTokens","maxOutputTokens","stop","maxSequences","MultiStringConfigItem","topP","topK","frequencyPenalty","presencePenalty","seed","toolChoice","SelectStringConfigItem","safetySettings","ObjectSchemaConfigItem","z","reasoningEnabled","SelectBooleanConfigItem","ChatModelBaseConfigSchema","maxTemperature","defaultTemperature","defaultTopP","ChatModelBaseConfigDef","ChatModelC1ConfigSchema","defaultTopK","value","ChatModelC1ConfigDef","ChatModelReasoningConfigSchema","ChatModelReasoningConfigDef","dimensions","maxDimensions","EMBEDDING_CONFIG","EmbeddingModelBaseConfigSchema","EmbeddingModelBaseConfigDef","GoogleChatModelConfigs","GoogleEmbeddingModelConfigs","ProviderLiteral","Google","GeminiProLiteral","GeminiPro","GeminiProOptions","GeminiProSchema","GeminiProVisionLiteral","GeminiProVision","GeminiProVisionOptions","GeminiProVisionSchema","Gemini1_5Flash001Literal","Gemini1_5Flash001","Gemini1_5Flash001Options","Gemini1_5Flash001Schema","Gemini1_5Flash002Literal","Gemini1_5Flash002","Gemini1_5Flash002Options","Gemini1_5Flash002Schema","Gemini1_5FlashLatestLiteral","Gemini1_5FlashLatest","Gemini1_5FlashLatestOptions","Gemini1_5FlashLatestSchema","Gemini1_5FlashLiteral","Gemini1_5Flash","Gemini1_5FlashOptions","Gemini1_5FlashSchema","Gemini1_5Pro001Literal","Gemini1_5Pro001","Gemini1_5Pro001Options","Gemini1_5Pro001Schema","Gemini1_5Pro002Literal","Gemini1_5Pro002","Gemini1_5Pro002Options","Gemini1_5Pro002Schema","Gemini1_5ProLatestLiteral","Gemini1_5ProLatest","Gemini1_5ProLatestOptions","Gemini1_5ProLatestSchema","Gemini1_5ProLiteral","Gemini1_5Pro","Gemini1_5ProOptions","Gemini1_5ProSchema","Gemini1_0ProLiteral","Gemini1_0Pro","Gemini1_0ProOptions","Gemini1_0ProSchema","Gemini1_0ProVisionLiteral","Gemini1_0ProVision","Gemini1_0ProVisionOptions","Gemini1_0ProVisionSchema","Gemini1_0ProLatestLiteral","Gemini1_0ProLatest","Gemini1_0ProLatestOptions","Gemini1_0ProLatestSchema","Gemini1_0Pro_001Literal","Gemini1_0Pro_001","Gemini1_0Pro_001Options","Gemini1_0Pro_001Schema","Gemini2_0FlashExpLiteral","Gemini2_0FlashExp","Gemini2_0FlashExpOptions","Gemini2_0FlashExpSchema","Gemini2_5FlashPreview0417Literal","Gemini2_5FlashPreview0417","Gemini2_5FlashPreview0417Options","Gemini2_5FlashPreview0417Schema","Gemini2_5ProPreview0325Literal","Gemini2_5ProPreview0325","Gemini2_5ProPreview0325Options","Gemini2_5ProPreview0325Schema","Text_Embedding_001Literal","Text_Embedding_001","Text_Embedding_001Options","Text_Embedding_001Schema","Text_Embedding_004Literal","Text_Embedding_004","Text_Embedding_004Options","Text_Embedding_004Schema","acc","key","options","modelName","ProviderError","model","parsedOptions","pricing_default","GoogleChatModelRoles","SystemRoleLiteral","UserRoleLiteral","AssistantRoleLiteral","ToolRoleLiteral","GoogleChatAssistantRoleLiteral","GoogleChatToolRoleLiteral","GoogleChatModelRolesMap","GoogleChatModelModalities","TextModalityLiteral","ImageModalityLiteral","ToolCallModalityLiteral","ToolResponseModalityLiteral","GoogleChatModelModalitiesEnum","GoogleChatModelTextModalities","GoogleChatModelTextModalitiesEnum","GoogleChatModelTextVisionModalities","GoogleChatModelTextVisionModalitiesEnum","GoogleChatModelTextToolModalities","GoogleChatModelTextToolModalitiesEnum","GoogleCompleteChatTextResponse","GoogleCompleteChatToolResponse","GoogleCompleteChatResponse","GoogleStreamChatTextResponse","GoogleStreamChatToolResponse","GoogleStreamChatResponse","GoogleChatContentPartText","GoogleChatContentPartInlineData","GoogleChatContentPartFunctionCall","GoogleChatContentPartFunctionResponse","GoogleChatContent","GoogleChatSystemInstruction","GoogleChatTool","GoogleChatToolConfig","GoogleChatGenerationConfig","GoogleChatSafetySettings","GoogleChatRequest","BaseChatModelOptions","BaseChatModel","modelSchema","_a","urlWithoutTrailingSlash","responseHeaders","messages","message","content","request","safeRequest","InvalidModelRequestError","parsedRequest","systemInstruction","generationConfig","toolConfig","_config","config","Config","removeUndefinedEntries","part","role","_content","c","Base64ImageContentTypeLiteral","index","InvalidMessagesError","tools","tool","_toolChoice","_parsedConfig","InvalidConfigError","parsedConfig","transformedConfig","def","paramKey","paramValue","__spreadProps","__spreadValues","configToolChoice","stripBase64Prefix","data","prefixMatch","parsedMessages","parsedMessage","Message","nonSystemMessages","assistantContent","userContent","base64Data","toolResponseContent","getNextExpectedRoles","i","InvalidToolsError","parsedTool","Tool","__async","resolve","transformedMessages","transformedTools","response","safe","ModelResponseError","parsedResponse","usage","contentItem","createTextContent","createToolCallContent","safetyRatings","rating","chunk","buffer","__asyncGenerator","lines","line","completeLine","structuredLine","error","partialResponse","messagePart","createPartialTextMessage","toolCall","createPartialToolCallMessage","headers","query","__yieldStar","newData","newBuffer","currentIndex","newlineIndex","jsonStr","url","sanitizedHeaders","BaseChatModelGemini1","systemUserMessage","Gemini1_0Pro_001Description","ChatModelSchema","Gemini1_0ProLatestDescription","Gemini1_0ProVisionDescription","Gemini1_0ProDescription","Gemini1_5Flash001Description","Gemini1_5Flash002Description","Gemini1_5FlashLatestDescription","Gemini1_5FlashDescription","Gemini1_5Pro001Description","Gemini1_5Pro002Description","Gemini1_5ProLatestDescription","Gemini1_5ProDescription","Gemini2_0FlashExpDescription","Gemini2_5FlashPreview0417Description","Gemini2_5ProPreview0325Description","GeminiProVisionDescription","GeminiProDescription","GoogleEmbeddingModelModalities","EmbeddingTextModalityLiteral","GoogleEmbeddingModelModalitiesEnum","GoogleGetEmbeddingsResponse","GoogleEmbeddingRequestInput","GoogleEmbeddingRequest","BaseEmbeddingModelOptions","BaseEmbeddingModel","requests","embeddingRequests","_parsedRequests","EmbeddingRequests","InvalidEmbeddingRequestsError","_requests","embeddings","embedding","FloatEmbeddingLiteral","Text_Embedding_001_Description","EmbeddingModelSchema","Text_Embedding_004_Description"],"mappings":"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","file":"index.mjs","sourcesContent":["import { z } from \"zod\";\n\nimport { maxTokens, safetySettings, stop, temperature, toolChoice, topP } from \"./common.config.chat-model.google\";\n\nconst ChatModelBaseConfigSchema = (\n  maxTemperature: number,\n  defaultTemperature: number,\n  maxOutputTokens: number,\n  maxSequences: number,\n  defaultTopP: number\n) =>\n  z.object({\n    temperature: temperature(maxTemperature, defaultTemperature).schema,\n    maxTokens: maxTokens(maxOutputTokens).schema,\n    stop: stop(maxSequences).schema,\n    topP: topP(defaultTopP).schema,\n    toolChoice: toolChoice.schema,\n    safetySettings: safetySettings.schema,\n  });\n\nconst ChatModelBaseConfigDef = (\n  maxTemperature: number,\n  defaultTemperature: number,\n  maxOutputTokens: number,\n  maxSequences: number,\n  defaultTopP: number\n) =>\n  ({\n    temperature: temperature(maxTemperature, defaultTemperature).def,\n    maxTokens: maxTokens(maxOutputTokens).def,\n    stop: stop(maxSequences).def,\n    topP: topP(defaultTopP).def,\n    toolChoice: toolChoice.def,\n    safetySettings: safetySettings.def,\n  }) as const;\n\nexport { ChatModelBaseConfigDef, ChatModelBaseConfigSchema };\n","import { z } from \"zod\";\n\nimport {\n  CHAT_CONFIG,\n  MultiStringConfigItem,\n  ObjectSchemaConfigItem,\n  RangeConfigItem,\n  SelectBooleanConfigItem,\n  SelectStringConfigItem,\n} from \"@adaline/provider\";\n\nconst temperature = (max: number, _default: number) =>\n  RangeConfigItem({\n    param: \"temperature\",\n    title: CHAT_CONFIG.TEMPERATURE.title,\n    description: CHAT_CONFIG.TEMPERATURE.description,\n    min: 0.0,\n    max: max,\n    step: 0.01,\n    default: _default,\n  });\n\nconst maxTokens = (maxOutputTokens: number) =>\n  RangeConfigItem({\n    param: \"maxOutputTokens\",\n    title: CHAT_CONFIG.MAX_TOKENS.title,\n    description: CHAT_CONFIG.MAX_TOKENS.description,\n    min: 0,\n    max: maxOutputTokens,\n    step: 1,\n    default: 0,\n  });\n\nconst stop = (maxSequences: number) =>\n  MultiStringConfigItem({\n    param: \"stopSequences\",\n    title: CHAT_CONFIG.STOP(maxSequences).title,\n    description: CHAT_CONFIG.STOP(maxSequences).description,\n    max: maxSequences,\n  });\n\nconst topP = (_default: number) =>\n  RangeConfigItem({\n    param: \"topP\",\n    title: CHAT_CONFIG.TOP_P.title,\n    description: CHAT_CONFIG.TOP_P.description,\n    min: 0,\n    max: 1,\n    step: 0.01,\n    default: _default,\n  });\n\nconst topK = (_default: number) =>\n  RangeConfigItem({\n    param: \"topK\",\n    title: CHAT_CONFIG.TOP_K.title,\n    description: CHAT_CONFIG.TOP_K.description,\n    min: 1,\n    max: 40,\n    step: 1,\n    default: _default,\n  });\n\nconst frequencyPenalty = RangeConfigItem({\n  param: \"frequencyPenalty\",\n  title: CHAT_CONFIG.FREQUENCY_PENALTY.title,\n  description: CHAT_CONFIG.FREQUENCY_PENALTY.description,\n  min: -2,\n  max: 2,\n  step: 0.01,\n  default: 0,\n});\n\nconst presencePenalty = RangeConfigItem({\n  param: \"presencePenalty\",\n  title: CHAT_CONFIG.PRESENCE_PENALTY.title,\n  description: CHAT_CONFIG.PRESENCE_PENALTY.description,\n  min: -2,\n  max: 2,\n  step: 0.01,\n  default: 0,\n});\n\nconst seed = RangeConfigItem({\n  param: \"seed\",\n  title: CHAT_CONFIG.SEED.title,\n  description: CHAT_CONFIG.SEED.description,\n  min: 0,\n  max: 1000000,\n  step: 1,\n  default: 0,\n});\n\nconst toolChoice = SelectStringConfigItem({\n  param: \"toolChoice\",\n  title: \"Tool choice\",\n  description:\n    \"Controls which (if any) tool is called by the model. 'none' means the model will not call a function. 'auto' means the model can pick between generating a message or calling a tool.\",\n  default: \"auto\",\n  choices: [\"auto\", \"any\", \"none\"],\n});\n\nconst safetySettings = ObjectSchemaConfigItem({\n  param: \"safetySettings\",\n  title: \"Safety settings\",\n  description: \"The safety rating contains the category of harm and the harm probability level in that category for a piece of content.\",\n  objectSchema: z.array(\n    z.object({\n      threshold: z.enum([\n        \"HARM_BLOCK_THRESHOLD_UNSPECIFIED\",\n        \"BLOCK_LOW_AND_ABOVE\",\n        \"BLOCK_MEDIUM_AND_ABOVE\",\n        \"BLOCK_ONLY_HIGH\",\n        \"BLOCK_NONE\",\n        \"OFF\",\n      ]),\n      category: z.enum([\n        \"HARM_CATEGORY_UNSPECIFIED\",\n        \"HARM_CATEGORY_HARASSMENT\",\n        \"HARM_CATEGORY_HATE_SPEECH\",\n        \"HARM_CATEGORY_SEXUALLY_EXPLICIT\",\n        \"HARM_CATEGORY_DANGEROUS_CONTENT\",\n        \"HARM_CATEGORY_CIVIC_INTEGRITY\",\n      ]),\n    })\n  ),\n});\n\nconst reasoningEnabled = SelectBooleanConfigItem({\n  param: \"reasoningEnabled\",\n  title: \"Reasoning Enabled\",\n  description:\n    \"Controls whether the model is allowed to think for a longer period of time before generating a response. This can be useful for complex tasks that require more time to think.\",\n  default: false,\n});\n\nexport { frequencyPenalty, maxTokens, presencePenalty, reasoningEnabled, safetySettings, seed, stop, temperature, toolChoice, topK, topP };\n","import { z } from \"zod\";\n\nimport {\n  frequencyPenalty,\n  maxTokens,\n  presencePenalty,\n  safetySettings,\n  seed,\n  stop,\n  temperature,\n  toolChoice,\n  topK,\n  topP,\n} from \"./common.config.chat-model.google\";\n\nconst ChatModelC1ConfigSchema = (\n  maxTemperature: number,\n  defaultTemperature: number,\n  maxOutputTokens: number,\n  maxSequences: number,\n  defaultTopP: number,\n  defaultTopK: number\n) =>\n  z.object({\n    temperature: temperature(maxTemperature, defaultTemperature).schema,\n    maxTokens: maxTokens(maxOutputTokens).schema,\n    stop: stop(maxSequences).schema,\n    topP: topP(defaultTopP).schema,\n    topK: topK(defaultTopK).schema,\n    frequencyPenalty: frequencyPenalty.schema,\n    presencePenalty: presencePenalty.schema,\n    seed: seed.schema.transform((value) => (value === 0 ? undefined : value)),\n    toolChoice: toolChoice.schema,\n    safetySettings: safetySettings.schema,\n  });\n\nconst ChatModelC1ConfigDef = (\n  maxTemperature: number,\n  defaultTemperature: number,\n  maxOutputTokens: number,\n  maxSequences: number,\n  defaultTopP: number,\n  defaultTopK: number\n) =>\n  ({\n    temperature: temperature(maxTemperature, defaultTemperature).def,\n    maxTokens: maxTokens(maxOutputTokens).def,\n    stop: stop(maxSequences).def,\n    topP: topP(defaultTopP).def,\n    topK: topK(defaultTopK).def,\n    frequencyPenalty: frequencyPenalty.def,\n    presencePenalty: presencePenalty.def,\n    seed: seed.def,\n    toolChoice: toolChoice.def,\n    safetySettings: safetySettings.def,\n  }) as const;\n\nexport { ChatModelC1ConfigDef, ChatModelC1ConfigSchema };\n","import { z } from \"zod\";\n\nimport {\n  frequencyPenalty,\n  maxTokens,\n  presencePenalty,\n  reasoningEnabled,\n  safetySettings,\n  seed,\n  stop,\n  temperature,\n  toolChoice,\n  topK,\n  topP,\n} from \"./common.config.chat-model.google\";\n\nconst ChatModelReasoningConfigSchema = (\n  maxTemperature: number,\n  defaultTemperature: number,\n  maxOutputTokens: number,\n  maxSequences: number,\n  defaultTopP: number,\n  defaultTopK: number\n) =>\n  z.object({\n    temperature: temperature(maxTemperature, defaultTemperature).schema,\n    maxTokens: maxTokens(maxOutputTokens).schema,\n    stop: stop(maxSequences).schema,\n    topP: topP(defaultTopP).schema,\n    topK: topK(defaultTopK).schema,\n    frequencyPenalty: frequencyPenalty.schema,\n    presencePenalty: presencePenalty.schema,\n    seed: seed.schema.transform((value) => (value === 0 ? undefined : value)),\n    toolChoice: toolChoice.schema,\n    safetySettings: safetySettings.schema,\n    reasoningEnabled: reasoningEnabled.schema,\n  });\n\nconst ChatModelReasoningConfigDef = (\n  maxTemperature: number,\n  defaultTemperature: number,\n  maxOutputTokens: number,\n  maxSequences: number,\n  defaultTopP: number,\n  defaultTopK: number\n) =>\n  ({\n    temperature: temperature(maxTemperature, defaultTemperature).def,\n    maxTokens: maxTokens(maxOutputTokens).def,\n    stop: stop(maxSequences).def,\n    topP: topP(defaultTopP).def,\n    topK: topK(defaultTopK).def,\n    frequencyPenalty: frequencyPenalty.def,\n    presencePenalty: presencePenalty.def,\n    seed: seed.def,\n    toolChoice: toolChoice.def,\n    safetySettings: safetySettings.def,\n    reasoningEnabled: reasoningEnabled.def,\n  }) as const;\n\nexport { ChatModelReasoningConfigDef, ChatModelReasoningConfigSchema };\n","import { z } from \"zod\";\n\nimport { dimensions } from \"./common.config.embedding-model.google\";\n\nconst EmbeddingModelBaseConfigSchema = (maxDimensions: number) =>\n  z.object({\n    dimensions: dimensions(maxDimensions).schema,\n  });\n\nconst EmbeddingModelBaseConfigDef = (maxDimensions: number) =>\n  ({\n    dimensions: dimensions(maxDimensions).def,\n  }) as const;\n\nexport { EmbeddingModelBaseConfigDef, EmbeddingModelBaseConfigSchema };\n","import { EMBEDDING_CONFIG, RangeConfigItem } from \"@adaline/provider\";\n\nconst dimensions = (maxDimensions: number) =>\n  RangeConfigItem({\n    param: \"outputDimensionality\",\n    title: EMBEDDING_CONFIG.DIMENSIONS.title,\n    description: EMBEDDING_CONFIG.DIMENSIONS.description,\n    min: 1,\n    max: maxDimensions,\n    step: 1,\n    default: maxDimensions,\n  });\n\nexport { dimensions };\n","import {\n  ChatModelBaseConfigDef,\n  ChatModelBaseConfigSchema,\n  ChatModelC1ConfigDef,\n  ChatModelC1ConfigSchema,\n  ChatModelReasoningConfigDef,\n  ChatModelReasoningConfigSchema,\n} from \"./chat-model\";\nimport { EmbeddingModelBaseConfigDef, EmbeddingModelBaseConfigSchema } from \"./embedding-model\";\n\nconst GoogleChatModelConfigs = {\n  base: (maxTemperature: number, defaultTemperature: number, maxOutputTokens: number, maxSequences: number, defaultTopP: number) => ({\n    def: ChatModelBaseConfigDef(maxTemperature, defaultTemperature, maxOutputTokens, maxSequences, defaultTopP),\n    schema: ChatModelBaseConfigSchema(maxTemperature, defaultTemperature, maxOutputTokens, maxSequences, defaultTopP),\n  }),\n  c1: (\n    maxTemperature: number,\n    defaultTemperature: number,\n    maxOutputTokens: number,\n    maxSequences: number,\n    defaultTopP: number,\n    defaultTopK: number\n  ) => ({\n    def: ChatModelC1ConfigDef(maxTemperature, defaultTemperature, maxOutputTokens, maxSequences, defaultTopP, defaultTopK),\n    schema: ChatModelC1ConfigSchema(maxTemperature, defaultTemperature, maxOutputTokens, maxSequences, defaultTopP, defaultTopK),\n  }),\n  reasoning: (\n    maxTemperature: number,\n    defaultTemperature: number,\n    maxOutputTokens: number,\n    maxSequences: number,\n    defaultTopP: number,\n    defaultTopK: number\n  ) => ({\n    def: ChatModelReasoningConfigDef(maxTemperature, defaultTemperature, maxOutputTokens, maxSequences, defaultTopP, defaultTopK),\n    schema: ChatModelReasoningConfigSchema(maxTemperature, defaultTemperature, maxOutputTokens, maxSequences, defaultTopP, defaultTopK),\n  }),\n} as const;\n\nconst GoogleEmbeddingModelConfigs = {\n  base: (maxDimensions: number) => ({\n    def: EmbeddingModelBaseConfigDef(maxDimensions),\n    schema: EmbeddingModelBaseConfigSchema(maxDimensions),\n  }),\n} as const;\n\nexport { GoogleChatModelConfigs, GoogleEmbeddingModelConfigs };\n","import { z } from \"zod\";\n\nimport { ChatModelSchemaType, ChatModelV1, EmbeddingModelSchemaType, EmbeddingModelV1, ProviderError, ProviderV1 } from \"@adaline/provider\";\n\nimport * as Models from \"../models\";\n\nconst ProviderLiteral = \"google\";\nclass Google<C extends Models.BaseChatModelOptionsType, E extends Models.BaseEmbeddingModelOptionsType> implements ProviderV1<C, E> {\n  readonly version = \"v1\" as const;\n  readonly name = ProviderLiteral;\n  static readonly baseUrl: string = \"https://generativelanguage.googleapis.com/v1beta\";\n\n  private readonly chatModelFactories: Record<\n    string,\n    {\n      model: { new (options: any): ChatModelV1 };\n      modelOptions: z.ZodType<any>;\n      modelSchema: ChatModelSchemaType;\n    }\n  > = {\n    [Models.GeminiProLiteral]: {\n      model: Models.GeminiPro,\n      modelOptions: Models.GeminiProOptions,\n      modelSchema: Models.GeminiProSchema,\n    },\n    [Models.GeminiProVisionLiteral]: {\n      model: Models.GeminiProVision,\n      modelOptions: Models.GeminiProVisionOptions,\n      modelSchema: Models.GeminiProVisionSchema,\n    },\n    [Models.Gemini1_5Flash001Literal]: {\n      model: Models.Gemini1_5Flash001,\n      modelOptions: Models.Gemini1_5Flash001Options,\n      modelSchema: Models.Gemini1_5Flash001Schema,\n    },\n    [Models.Gemini1_5Flash002Literal]: {\n      model: Models.Gemini1_5Flash002,\n      modelOptions: Models.Gemini1_5Flash002Options,\n      modelSchema: Models.Gemini1_5Flash002Schema,\n    },\n    [Models.Gemini1_5FlashLatestLiteral]: {\n      model: Models.Gemini1_5FlashLatest,\n      modelOptions: Models.Gemini1_5FlashLatestOptions,\n      modelSchema: Models.Gemini1_5FlashLatestSchema,\n    },\n    [Models.Gemini1_5FlashLiteral]: {\n      model: Models.Gemini1_5Flash,\n      modelOptions: Models.Gemini1_5FlashOptions,\n      modelSchema: Models.Gemini1_5FlashSchema,\n    },\n    [Models.Gemini1_5Pro001Literal]: {\n      model: Models.Gemini1_5Pro001,\n      modelOptions: Models.Gemini1_5Pro001Options,\n      modelSchema: Models.Gemini1_5Pro001Schema,\n    },\n    [Models.Gemini1_5Pro002Literal]: {\n      model: Models.Gemini1_5Pro002,\n      modelOptions: Models.Gemini1_5Pro002Options,\n      modelSchema: Models.Gemini1_5Pro002Schema,\n    },\n    [Models.Gemini1_5ProLatestLiteral]: {\n      model: Models.Gemini1_5ProLatest,\n      modelOptions: Models.Gemini1_5ProLatestOptions,\n      modelSchema: Models.Gemini1_5ProLatestSchema,\n    },\n    [Models.Gemini1_5ProLiteral]: {\n      model: Models.Gemini1_5Pro,\n      modelOptions: Models.Gemini1_5ProOptions,\n      modelSchema: Models.Gemini1_5ProSchema,\n    },\n    [Models.Gemini1_0ProLiteral]: {\n      model: Models.Gemini1_0Pro,\n      modelOptions: Models.Gemini1_0ProOptions,\n      modelSchema: Models.Gemini1_0ProSchema,\n    },\n    [Models.Gemini1_0ProVisionLiteral]: {\n      model: Models.Gemini1_0ProVision,\n      modelOptions: Models.Gemini1_0ProVisionOptions,\n      modelSchema: Models.Gemini1_0ProVisionSchema,\n    },\n    [Models.Gemini1_0ProLatestLiteral]: {\n      model: Models.Gemini1_0ProLatest,\n      modelOptions: Models.Gemini1_0ProLatestOptions,\n      modelSchema: Models.Gemini1_0ProLatestSchema,\n    },\n    [Models.Gemini1_0Pro_001Literal]: {\n      model: Models.Gemini1_0Pro_001,\n      modelOptions: Models.Gemini1_0Pro_001Options,\n      modelSchema: Models.Gemini1_0Pro_001Schema,\n    },\n    [Models.Gemini2_0FlashExpLiteral]: {\n      model: Models.Gemini2_0FlashExp,\n      modelOptions: Models.Gemini2_0FlashExpOptions,\n      modelSchema: Models.Gemini2_0FlashExpSchema,\n    },\n\n    [Models.Gemini2_5FlashPreview0417Literal]: {\n      model: Models.Gemini2_5FlashPreview0417,\n      modelOptions: Models.Gemini2_5FlashPreview0417Options,\n      modelSchema: Models.Gemini2_5FlashPreview0417Schema,\n    },\n    [Models.Gemini2_5ProPreview0325Literal]: {\n      model: Models.Gemini2_5ProPreview0325,\n      modelOptions: Models.Gemini2_5ProPreview0325Options,\n      modelSchema: Models.Gemini2_5ProPreview0325Schema,\n    },\n  };\n\n  private readonly embeddingModelFactories: Record<\n    string,\n    {\n      model: { new (options: any): EmbeddingModelV1 };\n      modelOptions: z.ZodType<any>;\n      modelSchema: EmbeddingModelSchemaType;\n    }\n  > = {\n    [Models.Text_Embedding_001Literal]: {\n      model: Models.Text_Embedding_001,\n      modelOptions: Models.Text_Embedding_001Options,\n      modelSchema: Models.Text_Embedding_001Schema,\n    },\n    [Models.Text_Embedding_004Literal]: {\n      model: Models.Text_Embedding_004,\n      modelOptions: Models.Text_Embedding_004Options,\n      modelSchema: Models.Text_Embedding_004Schema,\n    },\n  };\n\n  chatModelLiterals(): string[] {\n    return Object.keys(this.chatModelFactories);\n  }\n\n  chatModelSchemas(): Record<string, ChatModelSchemaType> {\n    return Object.keys(this.chatModelFactories).reduce(\n      (acc, key) => {\n        acc[key] = this.chatModelFactories[key].modelSchema;\n        return acc;\n      },\n      {} as Record<string, ChatModelSchemaType>\n    );\n  }\n\n  chatModel(options: C): ChatModelV1 {\n    const modelName = options.modelName;\n    if (!(modelName in this.chatModelFactories)) {\n      throw new ProviderError({\n        info: `Google chat model: ${modelName} not found`,\n        cause: new Error(`Google chat model: ${modelName} not found, available chat models: \n          [${this.chatModelLiterals().join(\", \")}]`),\n      });\n    }\n\n    const model = this.chatModelFactories[modelName].model;\n    const parsedOptions = this.chatModelFactories[modelName].modelOptions.parse(options);\n    return new model(parsedOptions);\n  }\n\n  embeddingModelLiterals(): string[] {\n    return Object.keys(this.embeddingModelFactories);\n  }\n\n  embeddingModelSchemas(): Record<string, EmbeddingModelSchemaType> {\n    return Object.keys(this.embeddingModelFactories).reduce(\n      (acc, key) => {\n        acc[key] = this.embeddingModelFactories[key].modelSchema;\n        return acc;\n      },\n      {} as Record<string, EmbeddingModelSchemaType>\n    );\n  }\n\n  embeddingModel(options: E): EmbeddingModelV1 {\n    const modelName = options.modelName;\n    if (!(modelName in this.embeddingModelFactories)) {\n      throw new ProviderError({\n        info: `Google embedding model: ${modelName} not found`,\n        cause: new Error(`Google embedding model: ${modelName} not found, available embedding models: \n          [${this.embeddingModelLiterals().join(\", \")}]`),\n      });\n    }\n\n    const model = this.embeddingModelFactories[modelName].model;\n    const parsedOptions = this.embeddingModelFactories[modelName].modelOptions.parse(options);\n    return new model(parsedOptions);\n  }\n}\n\nexport { Google, ProviderLiteral };\n","{\n  \"base-gemini-1-chat-model\": {\n    \"modelName\": \"base-gemini-1-chat-model\",\n    \"currency\": \"USD\",\n    \"tokenRanges\": [\n      {\n        \"minTokens\": 0,\n        \"maxTokens\": null,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 0,\n            \"outputPricePerMillion\": 0\n          }\n        }\n      }\n    ]\n  },\n  \"gemini-1.0-pro-001\": {\n    \"modelName\": \"gemini-1.0-pro-001\",\n    \"currency\": \"USD\",\n    \"tokenRanges\": [\n      {\n        \"minTokens\": 0,\n        \"maxTokens\": null,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 0.5,\n            \"outputPricePerMillion\": 1.5\n          }\n        }\n      }\n    ]\n  },\n  \"gemini-1.0-pro-latest\": {\n    \"modelName\": \"gemini-1.0-pro-latest\",\n    \"currency\": \"USD\",\n    \"tokenRanges\": [\n      {\n        \"minTokens\": 0,\n        \"maxTokens\": null,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 0.5,\n            \"outputPricePerMillion\": 1.5\n          }\n        }\n      }\n    ]\n  },\n  \"gemini-1.0-pro-vision\": {\n    \"modelName\": \"gemini-1.0-pro-vision\",\n    \"currency\": \"USD\",\n    \"tokenRanges\": [\n      {\n        \"minTokens\": 0,\n        \"maxTokens\": null,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 0.5,\n            \"outputPricePerMillion\": 1.5\n          }\n        }\n      }\n    ]\n  },\n  \"gemini-1.0-pro\": {\n    \"modelName\": \"gemini-1.0-pro\",\n    \"currency\": \"USD\",\n    \"tokenRanges\": [\n      {\n        \"minTokens\": 0,\n        \"maxTokens\": null,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 0.5,\n            \"outputPricePerMillion\": 1.5\n          }\n        }\n      }\n    ]\n  },\n  \"gemini-1.5-flash-001\": {\n    \"modelName\": \"gemini-1.5-flash-001\",\n    \"currency\": \"USD\",\n    \"tokenRanges\": [\n      {\n        \"minTokens\": 0,\n        \"maxTokens\": 128000,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 0.075,\n            \"outputPricePerMillion\": 0.3\n          }\n        }\n      },\n      {\n        \"minTokens\": 128001,\n        \"maxTokens\": null,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 0.15,\n            \"outputPricePerMillion\": 0.6\n          }\n        }\n      }\n    ]\n  },\n  \"gemini-1.5-flash-002\": {\n    \"modelName\": \"gemini-1.5-flash-002\",\n    \"currency\": \"USD\",\n    \"tokenRanges\": [\n      {\n        \"minTokens\": 0,\n        \"maxTokens\": 128000,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 0.0375,\n            \"outputPricePerMillion\": 0.15\n          }\n        }\n      },\n      {\n        \"minTokens\": 128001,\n        \"maxTokens\": null,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 0.075,\n            \"outputPricePerMillion\": 0.3\n          }\n        }\n      }\n    ]\n  },\n  \"gemini-1.5-flash-latest\": {\n    \"modelName\": \"gemini-1.5-flash-latest\",\n    \"currency\": \"USD\",\n    \"tokenRanges\": [\n      {\n        \"minTokens\": 0,\n        \"maxTokens\": 128000,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 0.075,\n            \"outputPricePerMillion\": 0.3\n          }\n        }\n      },\n      {\n        \"minTokens\": 128001,\n        \"maxTokens\": null,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 0.15,\n            \"outputPricePerMillion\": 0.6\n          }\n        }\n      }\n    ]\n  },\n  \"gemini-1.5-flash\": {\n    \"modelName\": \"gemini-1.5-flash\",\n    \"currency\": \"USD\",\n    \"tokenRanges\": [\n      {\n        \"minTokens\": 0,\n        \"maxTokens\": 128000,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 0.075,\n            \"outputPricePerMillion\": 0.3\n          }\n        }\n      },\n      {\n        \"minTokens\": 128001,\n        \"maxTokens\": null,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 0.15,\n            \"outputPricePerMillion\": 0.6\n          }\n        }\n      }\n    ]\n  },\n  \"gemini-1.5-pro-001\": {\n    \"modelName\": \"gemini-1.5-pro-001\",\n    \"currency\": \"USD\",\n    \"tokenRanges\": [\n      {\n        \"minTokens\": 0,\n        \"maxTokens\": 128000,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 1.25,\n            \"outputPricePerMillion\": 5\n          }\n        }\n      },\n      {\n        \"minTokens\": 128001,\n        \"maxTokens\": null,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 2.5,\n            \"outputPricePerMillion\": 10\n          }\n        }\n      }\n    ]\n  },\n  \"gemini-1.5-pro-002\": {\n    \"modelName\": \"gemini-1.5-pro-002\",\n    \"currency\": \"USD\",\n    \"tokenRanges\": [\n      {\n        \"minTokens\": 0,\n        \"maxTokens\": 128000,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 1.25,\n            \"outputPricePerMillion\": 5\n          }\n        }\n      },\n      {\n        \"minTokens\": 128001,\n        \"maxTokens\": null,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 2.5,\n            \"outputPricePerMillion\": 10\n          }\n        }\n      }\n    ]\n  },\n  \"gemini-1.5-pro-latest\": {\n    \"modelName\": \"gemini-1.5-pro-latest\",\n    \"currency\": \"USD\",\n    \"tokenRanges\": [\n      {\n        \"minTokens\": 0,\n        \"maxTokens\": 128000,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 1.25,\n            \"outputPricePerMillion\": 5\n          }\n        }\n      },\n      {\n        \"minTokens\": 128001,\n        \"maxTokens\": null,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 2.5,\n            \"outputPricePerMillion\": 10\n          }\n        }\n      }\n    ]\n  },\n  \"gemini-1.5-pro\": {\n    \"modelName\": \"gemini-1.5-pro\",\n    \"currency\": \"USD\",\n    \"tokenRanges\": [\n      {\n        \"minTokens\": 0,\n        \"maxTokens\": 128000,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 1.25,\n            \"outputPricePerMillion\": 5\n          }\n        }\n      },\n      {\n        \"minTokens\": 128001,\n        \"maxTokens\": null,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 2.5,\n            \"outputPricePerMillion\": 10\n          }\n        }\n      }\n    ]\n  },\n  \"gemini-2.0-flash-exp\": {\n    \"modelName\": \"gemini-2.0-flash-exp\",\n    \"currency\": \"USD\",\n    \"tokenRanges\": [\n      {\n        \"minTokens\": 0,\n        \"maxTokens\": null,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 0.1,\n            \"outputPricePerMillion\": 0.4\n          }\n        }\n      }\n    ]\n  },\n  \"gemini-2.5-flash-preview-04-17\": {\n    \"modelName\": \"gemini-2.5-flash-preview-04-17\",\n    \"currency\": \"USD\",\n    \"tokenRanges\": [\n      {\n        \"minTokens\": 0,\n        \"maxTokens\": null,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 0.15,\n            \"outputPricePerMillion\": 0.6\n          }\n        }\n      }\n    ]\n  },\n  \"gemini-2.5-pro-preview-03-25\": {\n    \"modelName\": \"gemini-2.5-pro-preview-03-25\",\n    \"currency\": \"USD\",\n    \"tokenRanges\": [\n      {\n        \"minTokens\": 0,\n        \"maxTokens\": 200000,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 1.25,\n            \"outputPricePerMillion\": 10\n          }\n        }\n      },\n      {\n        \"minTokens\": 200001,\n        \"maxTokens\": null,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 2.5,\n            \"outputPricePerMillion\": 15\n          }\n        }\n      }\n    ]\n  },\n  \"gemini-pro-vision\": {\n    \"modelName\": \"gemini-pro-vision\",\n    \"currency\": \"USD\",\n    \"tokenRanges\": [\n      {\n        \"minTokens\": 0,\n        \"maxTokens\": null,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 0.5,\n            \"outputPricePerMillion\": 1.5\n          }\n        }\n      }\n    ]\n  },\n  \"gemini-pro\": {\n    \"modelName\": \"gemini-pro\",\n    \"currency\": \"USD\",\n    \"tokenRanges\": [\n      {\n        \"minTokens\": 0,\n        \"maxTokens\": null,\n        \"prices\": {\n          \"base\": {\n            \"inputPricePerMillion\": 0.5,\n            \"outputPricePerMillion\": 1.5\n          }\n        }\n      }\n    ]\n  }\n}\n","import { z } from \"zod\";\n\nimport { AssistantRoleLiteral, SystemRoleLiteral, ToolRoleLiteral, UserRoleLiteral } from \"@adaline/types\";\n\nconst GoogleChatModelRoles = z.enum([SystemRoleLiteral, UserRoleLiteral, AssistantRoleLiteral, ToolRoleLiteral]);\n\nconst GoogleChatAssistantRoleLiteral = \"model\";\nconst GoogleChatToolRoleLiteral = \"function\";\n\nconst GoogleChatModelRolesMap = {\n  system: UserRoleLiteral,\n  user: UserRoleLiteral,\n  assistant: GoogleChatAssistantRoleLiteral,\n  tool: GoogleChatToolRoleLiteral,\n} as const;\n\nexport { GoogleChatAssistantRoleLiteral, GoogleChatToolRoleLiteral, GoogleChatModelRoles, GoogleChatModelRolesMap };\n","import { z } from \"zod\";\n\nimport { ChatModelSchemaType } from \"@adaline/provider\";\nimport { ImageModalityLiteral, TextModalityLiteral, ToolCallModalityLiteral, ToolResponseModalityLiteral } from \"@adaline/types\";\n\nconst GoogleChatModelModalities: ChatModelSchemaType[\"modalities\"] = [\n  TextModalityLiteral,\n  ImageModalityLiteral,\n  ToolCallModalityLiteral,\n  ToolResponseModalityLiteral,\n];\n\nconst GoogleChatModelModalitiesEnum = z.enum([\n  TextModalityLiteral,\n  ImageModalityLiteral,\n  ToolCallModalityLiteral,\n  ToolResponseModalityLiteral,\n]);\n\nconst GoogleChatModelTextModalities: ChatModelSchemaType[\"modalities\"] = [TextModalityLiteral];\n\nconst GoogleChatModelTextModalitiesEnum = z.enum([TextModalityLiteral]);\n\nconst GoogleChatModelTextVisionModalities: ChatModelSchemaType[\"modalities\"] = [TextModalityLiteral, ImageModalityLiteral];\n\nconst GoogleChatModelTextVisionModalitiesEnum = z.enum([TextModalityLiteral, ImageModalityLiteral]);\n\nconst GoogleChatModelTextToolModalities: ChatModelSchemaType[\"modalities\"] = [\n  TextModalityLiteral,\n  ToolCallModalityLiteral,\n  ToolResponseModalityLiteral,\n];\n\nconst GoogleChatModelTextToolModalitiesEnum = z.enum([TextModalityLiteral, ToolCallModalityLiteral, ToolResponseModalityLiteral]);\n\nexport {\n  GoogleChatModelModalitiesEnum,\n  GoogleChatModelModalities,\n  GoogleChatModelTextModalitiesEnum,\n  GoogleChatModelTextModalities,\n  GoogleChatModelTextToolModalitiesEnum,\n  GoogleChatModelTextToolModalities,\n  GoogleChatModelTextVisionModalitiesEnum,\n  GoogleChatModelTextVisionModalities,\n};\n","import { z } from \"zod\";\n\nconst GoogleCompleteChatTextResponse = z.object({\n  text: z.string(),\n});\n\nconst GoogleCompleteChatToolResponse = z.object({\n  functionCall: z.object({\n    name: z.string(),\n    args: z.record(z.any()),\n  }),\n});\n\nconst GoogleCompleteChatResponse = z.object({\n  candidates: z.array(\n    z.object({\n      content: z\n        .object({\n          role: z.string(),\n          parts: z.array(z.union([GoogleCompleteChatTextResponse, GoogleCompleteChatToolResponse])),\n        })\n        .optional(),\n      finishReason: z.string(),\n      index: z.number().optional(),\n      safetyRatings: z.optional(\n        z.array(\n          z.object({\n            category: z.string(),\n            probability: z.string(),\n            blocked: z.boolean().optional(),\n          })\n        )\n      ),\n    })\n  ),\n  promptFeedback: z.optional(\n    z.object({\n      safetyRatings: z.optional(\n        z.array(\n          z.object({\n            category: z.string(),\n            probability: z.string(),\n          })\n        )\n      ),\n    })\n  ),\n  usageMetadata: z\n    .object({\n      promptTokenCount: z.number(),\n      cachedContentTokenCount: z.number().optional(),\n      candidatesTokenCount: z.number().optional(),\n      totalTokenCount: z.number(),\n    })\n    .optional(),\n});\ntype GoogleCompleteChatResponseType = z.infer<typeof GoogleCompleteChatResponse>;\n\nconst GoogleStreamChatTextResponse = z.object({\n  text: z.string(),\n});\n\nconst GoogleStreamChatToolResponse = z.object({\n  functionCall: z.object({\n    name: z.string(),\n    args: z.record(z.any()),\n  }),\n});\n\nconst GoogleStreamChatResponse = z.object({\n  candidates: z.array(\n    z.object({\n      content: z\n        .object({\n          role: z.string(),\n          parts: z.array(z.union([GoogleStreamChatTextResponse, GoogleStreamChatToolResponse])),\n        })\n        .optional(),\n      finishReason: z.string().optional(),\n      index: z.number().optional(),\n      safetyRatings: z.optional(\n        z.array(\n          z.object({\n            category: z.string(),\n            probability: z.string(),\n            blocked: z.boolean().optional(),\n          })\n        )\n      ),\n    })\n  ),\n  promptFeedback: z.optional(\n    z.object({\n      safetyRatings: z.optional(\n        z.array(\n          z.object({\n            category: z.string(),\n            probability: z.string(),\n          })\n        )\n      ),\n    })\n  ),\n  usageMetadata: z\n    .object({\n      promptTokenCount: z.number().optional(),\n      cachedContentTokenCount: z.number().optional(),\n      candidatesTokenCount: z.number().optional(),\n      totalTokenCount: z.number().optional(),\n    })\n    .optional(),\n});\ntype GoogleStreamChatResponseType = z.infer<typeof GoogleStreamChatResponse>;\n\nexport {\n  GoogleCompleteChatResponse,\n  GoogleCompleteChatTextResponse,\n  GoogleCompleteChatToolResponse,\n  GoogleStreamChatResponse,\n  GoogleStreamChatTextResponse,\n  GoogleStreamChatToolResponse,\n  type GoogleCompleteChatResponseType,\n  type GoogleStreamChatResponseType,\n};\n","import { z } from \"zod\";\n\nconst GoogleChatContentPartText = z.object({\n  text: z.string().min(1),\n});\ntype GoogleChatContentPartTextType = z.infer<typeof GoogleChatContentPartText>;\n\nconst GoogleChatContentPartInlineData = z.object({\n  inline_data: z.object({\n    mime_type: z.string().min(1),\n    data: z.string().base64(),\n  }),\n});\ntype GoogleChatContentPartInlineDataType = z.infer<typeof GoogleChatContentPartInlineData>;\n\nconst GoogleChatContentPartFunctionCall = z.object({\n  function_call: z.object({\n    name: z.string().min(1),\n    args: z.record(z.string().min(1)),\n  }),\n});\ntype GoogleChatContentPartFunctionCallType = z.infer<typeof GoogleChatContentPartFunctionCall>;\n\nconst GoogleChatContentPartFunctionResponse = z.object({\n  function_response: z.object({\n    name: z.string().min(1),\n    response: z.record(z.string().min(1)),\n  }),\n});\ntype GoogleChatContentPartFunctionResponseType = z.infer<typeof GoogleChatContentPartFunctionResponse>;\n\nconst GoogleChatContent = z.object({\n  role: z.enum([\"user\", \"model\", \"function\"]),\n  parts: z.array(\n    z.union([\n      GoogleChatContentPartText,\n      GoogleChatContentPartInlineData,\n      GoogleChatContentPartFunctionCall,\n      GoogleChatContentPartFunctionResponse,\n    ])\n  ),\n});\ntype GoogleChatContentType = z.infer<typeof GoogleChatContent>;\n\nconst GoogleChatSystemInstruction = z.object({\n  parts: z.array(GoogleChatContentPartText),\n});\ntype GoogleChatSystemInstructionType = z.infer<typeof GoogleChatSystemInstruction>;\n\nconst GoogleChatTool = z.object({\n  name: z.string().min(1),\n  description: z.string().min(1),\n  parameters: z.any(),\n});\ntype GoogleChatToolType = z.infer<typeof GoogleChatTool>;\n\nconst GoogleChatToolConfig = z.object({\n  function_calling_config: z.object({\n    mode: z.enum([\"ANY\", \"AUTO\", \"NONE\"]),\n    allowed_function_names: z.array(z.string()).optional(),\n  }),\n});\ntype GoogleChatToolConfigType = z.infer<typeof GoogleChatToolConfig>;\n\nconst GoogleChatGenerationConfig = z.object({\n  stopSequences: z.array(z.string()).optional(),\n  maxOutputTokens: z.number().optional(),\n  temperature: z.number().optional(),\n  topP: z.number().optional(),\n  topK: z.number().optional(),\n  presencePenalty: z.number().optional(),\n  frequencyPenalty: z.number().optional(),\n  seed: z.number().optional(),\n});\ntype GoogleChatGenerationConfigType = z.infer<typeof GoogleChatGenerationConfig>;\n\nconst GoogleChatSafetySettings = z.object({\n  category: z.enum([\n    \"HARM_CATEGORY_HARASSMENT\",\n    \"HARM_CATEGORY_HATE_SPEECH\",\n    \"HARM_CATEGORY_SEXUALLY_EXPLICIT\",\n    \"HARM_CATEGORY_DANGEROUS_CONTENT\",\n    \"HARM_CATEGORY_CIVIC_INTEGRITY\",\n  ]),\n  threshold: z.enum([\n    \"HARM_BLOCK_THRESHOLD_UNSPECIFIED\",\n    \"BLOCK_LOW_AND_ABOVE\",\n    \"BLOCK_MEDIUM_AND_ABOVE\",\n    \"BLOCK_ONLY_HIGH\",\n    \"BLOCK_NONE\",\n    \"OFF\",\n  ]),\n});\ntype GoogleChatSafetySettingsType = z.infer<typeof GoogleChatSafetySettings>;\n\nconst GoogleChatRequest = z.object({\n  model: z.string().min(1).optional(),\n  contents: z.array(GoogleChatContent),\n  systemInstruction: GoogleChatSystemInstruction.optional(),\n  system_instruction: GoogleChatSystemInstruction.optional(),\n  generationConfig: GoogleChatGenerationConfig.optional(),\n  generation_config: GoogleChatGenerationConfig.optional(),\n  safetySettings: z.array(GoogleChatSafetySettings).optional(),\n  safety_settings: z.array(GoogleChatSafetySettings).optional(),\n  tools: z\n    .object({\n      function_declarations: z.array(GoogleChatTool),\n    })\n    .optional(),\n  toolConfig: GoogleChatToolConfig.optional(),\n  tool_config: GoogleChatToolConfig.optional(),\n});\ntype GoogleChatRequestType = z.infer<typeof GoogleChatRequest>;\n\nexport {\n  GoogleChatContent,\n  GoogleChatContentPartFunctionCall,\n  GoogleChatContentPartFunctionResponse,\n  GoogleChatContentPartInlineData,\n  GoogleChatContentPartText,\n  GoogleChatGenerationConfig,\n  GoogleChatRequest,\n  GoogleChatSystemInstruction,\n  GoogleChatTool,\n  GoogleChatToolConfig,\n  GoogleChatSafetySettings,\n  type GoogleChatContentPartTextType,\n  type GoogleChatContentPartFunctionCallType,\n  type GoogleChatContentPartFunctionResponseType,\n  type GoogleChatContentPartInlineDataType,\n  type GoogleChatToolType,\n  type GoogleChatToolConfigType,\n  type GoogleChatGenerationConfigType,\n  type GoogleChatRequestType,\n  type GoogleChatContentType,\n  type GoogleChatSystemInstructionType,\n  type GoogleChatSafetySettingsType,\n};\n","import { z } from \"zod\";\n\nimport {\n  ChatModelSchemaType,\n  ChatModelV1,\n  HeadersType,\n  InvalidConfigError,\n  InvalidMessagesError,\n  InvalidModelRequestError,\n  InvalidToolsError,\n  ModelResponseError,\n  ParamsType,\n  removeUndefinedEntries,\n  SelectStringConfigItemDefType,\n  UrlType,\n  urlWithoutTrailingSlash,\n} from \"@adaline/provider\";\nimport {\n  AssistantRoleLiteral,\n  Base64ImageContentTypeLiteral,\n  Base64ImageContentValueType,\n  ChatModelPriceType,\n  ChatResponseType,\n  ChatUsageType,\n  Config,\n  ConfigType,\n  ContentType,\n  createPartialTextMessage,\n  createPartialToolCallMessage,\n  createTextContent,\n  createToolCallContent,\n  ImageContentType,\n  ImageModalityLiteral,\n  Message,\n  MessageType,\n  PartialChatResponseType,\n  SystemRoleLiteral,\n  TextModalityLiteral,\n  Tool,\n  ToolCallModalityLiteral,\n  ToolResponseModalityLiteral,\n  ToolRoleLiteral,\n  ToolType,\n  UserRoleLiteral,\n} from \"@adaline/types\";\n\nimport { Google } from \"../../provider/provider.google\";\nimport pricingData from \"../pricing.json\";\nimport {\n  GoogleChatContentPartFunctionCallType,\n  GoogleChatContentPartFunctionResponseType,\n  GoogleChatContentPartInlineDataType,\n  GoogleChatContentPartTextType,\n  GoogleChatContentType,\n  GoogleChatRequest,\n  GoogleChatRequestType,\n  GoogleChatSystemInstructionType,\n  GoogleChatToolType,\n  GoogleCompleteChatResponse,\n  GoogleCompleteChatResponseType,\n  GoogleStreamChatResponse,\n  GoogleStreamChatResponseType,\n} from \"./types\";\n\nconst BaseChatModelOptions = z.object({\n  modelName: z.string(),\n  apiKey: z.string(),\n  baseUrl: z.string().url().optional(),\n  completeChatUrl: z.string().url().optional(),\n  streamChatUrl: z.string().url().optional(),\n});\ntype BaseChatModelOptionsType = z.infer<typeof BaseChatModelOptions>;\n\nclass BaseChatModel implements ChatModelV1<ChatModelSchemaType> {\n  readonly version = \"v1\" as const;\n  modelSchema: ChatModelSchemaType;\n  readonly modelName: string;\n\n  private readonly apiKey: string;\n  private readonly baseUrl: string;\n  private readonly streamChatUrl: string;\n  private readonly completeChatUrl: string;\n\n  constructor(modelSchema: ChatModelSchemaType, options: BaseChatModelOptionsType) {\n    const parsedOptions = BaseChatModelOptions.parse(options);\n    this.modelSchema = modelSchema;\n    this.modelName = parsedOptions.modelName;\n    this.apiKey = parsedOptions.apiKey;\n    this.baseUrl = urlWithoutTrailingSlash(parsedOptions.baseUrl ?? Google.baseUrl);\n    this.completeChatUrl = urlWithoutTrailingSlash(\n      parsedOptions.completeChatUrl || `${this.baseUrl}/models/${this.modelName}:generateContent?key=${this.apiKey}`\n    );\n    this.streamChatUrl = urlWithoutTrailingSlash(\n      parsedOptions.streamChatUrl || `${this.baseUrl}/models/${this.modelName}:streamGenerateContent?key=${this.apiKey}`\n    );\n  }\n\n  getDefaultBaseUrl(): UrlType {\n    return this.baseUrl;\n  }\n\n  getDefaultHeaders(): HeadersType {\n    return {\n      \"Content-Type\": \"application/json\",\n    };\n  }\n\n  getDefaultParams(): ParamsType {\n    return {};\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getRetryDelay(responseHeaders: HeadersType): { shouldRetry: boolean; delayMs: number } {\n    return { shouldRetry: false, delayMs: 0 };\n  }\n\n  // TODO: unused method, not tested; should add support for non-text modalities, tools\n  getTokenCount(messages: MessageType[]): number {\n    return messages.reduce((acc, message) => {\n      return acc + message.content.map((content) => (content.modality === \"text\" ? content.value : \"\")).join(\" \").length;\n    }, 0);\n  }\n\n  transformModelRequest(request: GoogleChatRequestType): {\n    modelName: string | undefined;\n    config: ConfigType;\n    messages: MessageType[];\n    tools: ToolType[] | undefined;\n  } {\n    const safeRequest = GoogleChatRequest.safeParse(request);\n    if (!safeRequest.success) {\n      throw new InvalidModelRequestError({ info: \"Invalid model request\", cause: safeRequest.error });\n    }\n\n    const parsedRequest = safeRequest.data;\n\n    const modelName = parsedRequest.model;\n\n    if (parsedRequest.system_instruction && parsedRequest.systemInstruction) {\n      throw new InvalidModelRequestError({\n        info: `Invalid model request for model : '${this.modelName}'`,\n        cause: new Error(\"'system_instruction' and 'systemInstruction' are not allowed at the same time\"),\n      });\n    }\n\n    if (parsedRequest.generation_config && parsedRequest.generationConfig) {\n      throw new InvalidModelRequestError({\n        info: `Invalid model request for model : '${this.modelName}'`,\n        cause: new Error(\"'generation_config' and 'generationConfig' are not allowed at the same time\"),\n      });\n    }\n\n    if (parsedRequest.tool_config && parsedRequest.toolConfig) {\n      throw new InvalidModelRequestError({\n        info: `Invalid model request for model : '${this.modelName}'`,\n        cause: new Error(\"'tool_config' and 'toolConfig' are not allowed at the same time\"),\n      });\n    }\n\n    const systemInstruction = parsedRequest.system_instruction || parsedRequest.systemInstruction;\n    const generationConfig = parsedRequest.generation_config || parsedRequest.generationConfig;\n    const safetySettings = parsedRequest.safety_settings || parsedRequest.safetySettings;\n    const toolConfig = parsedRequest.tool_config || parsedRequest.toolConfig;\n\n    if (toolConfig && (!parsedRequest.tools || parsedRequest.tools.function_declarations.length === 0)) {\n      throw new InvalidModelRequestError({\n        info: `Invalid model request for model : '${this.modelName}'`,\n        cause: new Error(\"'tools' are required when 'tool_choice' is specified\"),\n      });\n    }\n\n    const _config: ConfigType = {};\n\n    if (toolConfig) {\n      if (toolConfig.function_calling_config.mode === \"ANY\") {\n        if (\n          toolConfig.function_calling_config.allowed_function_names &&\n          toolConfig.function_calling_config.allowed_function_names.length === 1\n        ) {\n          _config.toolChoice = toolConfig.function_calling_config.allowed_function_names[0];\n        } else {\n          _config.toolChoice = toolConfig.function_calling_config.mode.toLowerCase();\n        }\n      } else {\n        _config.toolChoice = toolConfig.function_calling_config.mode.toLowerCase();\n      }\n    }\n\n    _config.seed = generationConfig?.seed;\n    _config.maxTokens = generationConfig?.maxOutputTokens;\n    _config.temperature = generationConfig?.temperature;\n    _config.topP = generationConfig?.topP;\n    _config.presencePenalty = generationConfig?.presencePenalty;\n    _config.frequencyPenalty = generationConfig?.frequencyPenalty;\n    _config.stop = generationConfig?.stopSequences;\n    _config.safetySettings = safetySettings;\n    const config = Config().parse(removeUndefinedEntries(_config));\n\n    const messages: MessageType[] = [];\n    if (systemInstruction) {\n      systemInstruction.parts.forEach((part) => {\n        messages.push({ role: SystemRoleLiteral, content: [{ modality: TextModalityLiteral, value: part.text }] });\n      });\n    }\n\n    parsedRequest.contents.forEach((message) => {\n      const role = message.role;\n      switch (role) {\n        case \"user\":\n          {\n            const content = message.parts as (GoogleChatContentPartTextType | GoogleChatContentPartInlineDataType)[];\n            const _content = content.map((c) => {\n              if (\"text\" in c) {\n                return { modality: TextModalityLiteral, value: c.text };\n              } else {\n                return {\n                  modality: ImageModalityLiteral,\n                  detail: \"auto\" as ImageContentType[\"detail\"],\n                  value: {\n                    type: Base64ImageContentTypeLiteral,\n                    base64: c.inline_data.data,\n                    mediaType: c.inline_data.mime_type.split(\"/\")[1] as Base64ImageContentValueType[\"mediaType\"],\n                  },\n                };\n              }\n            });\n            messages.push({ role: role, content: _content });\n          }\n          break;\n\n        case \"model\":\n          {\n            const content = message.parts as (GoogleChatContentPartTextType | GoogleChatContentPartFunctionCallType)[];\n            const _content = content.map((c, index) => {\n              if (\"text\" in c) {\n                return { modality: TextModalityLiteral, value: c.text };\n              } else {\n                return {\n                  modality: ToolCallModalityLiteral,\n                  id: index.toString(),\n                  index: index,\n                  name: c.function_call.name,\n                  arguments: JSON.stringify(c.function_call.args),\n                };\n              }\n            });\n            messages.push({ role: AssistantRoleLiteral, content: _content });\n          }\n          break;\n\n        case \"function\":\n          {\n            const content = message.parts as GoogleChatContentPartFunctionResponseType[];\n            const _content = content.map((c, index) => {\n              return {\n                modality: ToolResponseModalityLiteral,\n                id: index.toString(),\n                index: index,\n                name: c.function_response.name,\n                data: JSON.stringify(c.function_response.response),\n              };\n            });\n            messages.push({ role: ToolRoleLiteral, content: _content });\n          }\n          break;\n\n        default: {\n          throw new InvalidMessagesError({\n            info: `Invalid message 'role' for model : ${this.modelName}`,\n            cause: new Error(`role : '${message.role}' is not supported for model : ${this.modelName}`),\n          });\n        }\n      }\n    });\n\n    const tools: ToolType[] = [];\n    if (parsedRequest.tools) {\n      parsedRequest.tools.function_declarations.forEach((tool: GoogleChatToolType) => {\n        tools.push({\n          type: \"function\",\n          definition: {\n            schema: {\n              name: tool.name,\n              description: tool.description,\n              parameters: tool.parameters,\n            },\n          },\n        });\n      });\n    }\n\n    return {\n      modelName,\n      config,\n      messages,\n      tools: tools.length > 0 ? tools : undefined,\n    };\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  transformConfig(config: ConfigType, messages?: MessageType[], tools?: ToolType[]): ParamsType {\n    const _toolChoice = config.toolChoice;\n    delete config.toolChoice; // can have a specific tool name that is not in the model schema, validated at transformation\n\n    const _parsedConfig = this.modelSchema.config.schema.safeParse(config);\n    if (!_parsedConfig.success) {\n      throw new InvalidConfigError({\n        info: `Invalid config for model : '${this.modelName}'`,\n        cause: _parsedConfig.error,\n      });\n    }\n\n    const parsedConfig = _parsedConfig.data as ConfigType;\n\n    Object.keys(parsedConfig).forEach((key) => {\n      if (!(key in this.modelSchema.config.def)) {\n        throw new InvalidConfigError({\n          info: `Invalid config for model : '${this.modelName}'`,\n          cause: new Error(`Invalid config key : '${key}', \n            available keys : [${Object.keys(this.modelSchema.config.def).join(\", \")}]`),\n        });\n      }\n    });\n\n    const transformedConfig = Object.keys(parsedConfig).reduce((acc, key) => {\n      const def = this.modelSchema.config.def[key];\n      const paramKey = def.param;\n      const paramValue = (parsedConfig as ConfigType)[key];\n\n      if (key === \"reasoningEnabled\") {\n        // Handle reasoningEnabled specially\n        acc.thinkingConfig = {\n          includeThoughts: paramValue,\n        };\n      } else if (key === \"maxReasoningTokens\") {\n        acc.thinkingConfig = acc.thinkingConfig && typeof acc.thinkingConfig === \"object\"\n          ? { ...acc.thinkingConfig, thinkingBudget: paramValue }\n          : { thinkingBudget: paramValue };\n      } else if (paramKey === \"maxOutputTokens\" && def.type === \"range\" && paramValue === 0) {\n        acc[paramKey] = def.max;\n      } else {\n        acc[paramKey] = paramValue;\n      }\n\n      return acc;\n    }, {} as ParamsType);\n\n    const safetySettings = transformedConfig.safetySettings;\n    delete transformedConfig.safetySettings;\n\n    let toolConfig;\n    if (_toolChoice !== undefined) {\n      const toolChoice = _toolChoice as string;\n      if (!tools || (tools && tools.length === 0)) {\n        throw new InvalidConfigError({\n          info: `Invalid config for model : '${this.modelName}'`,\n          cause: new Error(\"'tools' are required when 'toolChoice' is specified\"),\n        });\n      } else if (tools && tools.length > 0) {\n        const configToolChoice = this.modelSchema.config.def.toolChoice as SelectStringConfigItemDefType;\n        if (!configToolChoice.choices.includes(toolChoice)) {\n          // toolChoice not in model schema choices\n          if (tools.map((tool) => tool.definition.schema.name).includes(toolChoice)) {\n            // toolChoice is a specific tool name\n            toolConfig = {\n              function_calling_config: {\n                mode: \"ANY\",\n                allowed_function_names: [toolChoice],\n              },\n            };\n          } else {\n            throw new InvalidConfigError({\n              info: `Invalid config for model : '${this.modelName}'`,\n              cause: new Error(`toolChoice : '${toolChoice}' is not part of provided 'tools' names or \n                one of [${configToolChoice.choices.join(\", \")}]`),\n            });\n          }\n        } else {\n          // toolChoice is in model schema choices\n          if (toolChoice === \"any\") {\n            toolConfig = {\n              function_calling_config: {\n                mode: \"ANY\",\n                allowed_function_names: tools.map((tool) => tool.definition.schema.name),\n              },\n            };\n          } else {\n            toolConfig = {\n              function_calling_config: {\n                mode: toolChoice.toUpperCase(), // Google uses uppercase for toolChoice\n              },\n            };\n          }\n        }\n      }\n    }\n\n    // if (\"response_format\" in transformedConfig && transformedConfig.response_format !== undefined) {\n    //   const responseFormat = transformedConfig.response_format as string;\n    //   if (responseFormat === \"json_schema\") {\n    //     if (!(\"response_schema\" in transformedConfig)) {\n    //       throw new InvalidConfigError({\n    //         info: `Invalid config for model : '${this.modelName}'`,\n    //         cause: new Error(\"'responseSchema' is required in config when 'responseFormat' is 'json_schema'\")\n    //       });\n    //     } else {\n    //       transformedConfig.response_format = {\n    //         type: \"json_schema\",\n    //         json_schema: transformedConfig.response_schema,\n    //       };\n    //       delete transformedConfig.response_schema;\n    //     }\n    //   } else {\n    //     transformedConfig.response_format = { type: responseFormat };\n    //   }\n    // }\n\n    return {\n      generation_config: transformedConfig,\n      ...(toolConfig ? { tool_config: toolConfig } : {}),\n      ...(safetySettings ? { safety_settings: safetySettings } : {}),\n    };\n  }\n\n  transformMessages(messages: MessageType[]): ParamsType {\n    if (!messages || (messages && messages.length === 0)) {\n      return { messages: [] };\n    }\n    const stripBase64Prefix = (data: string): string => {\n      const prefixMatch = data.match(/^data:image\\/[a-zA-Z]+;base64,/);\n      if (prefixMatch) {\n        return data.substring(prefixMatch[0].length);\n      }\n      return data;\n    };\n    const parsedMessages = messages.map((message) => {\n      const parsedMessage = Message().safeParse(message);\n      if (!parsedMessage.success) {\n        throw new InvalidMessagesError({ info: \"Invalid messages\", cause: parsedMessage.error });\n      }\n      return parsedMessage.data;\n    });\n\n    parsedMessages.forEach((message) => {\n      message.content.forEach((content) => {\n        if (!this.modelSchema.modalities.includes(content.modality)) {\n          throw new InvalidMessagesError({\n            info: `Invalid message content for model : '${this.modelName}'`,\n            cause: new Error(`model : '${this.modelName}' does not support modality : '${content.modality}', \n              available modalities : [${this.modelSchema.modalities.join(\", \")}]`),\n          });\n        }\n      });\n    });\n\n    parsedMessages.forEach((message) => {\n      if (!Object.keys(this.modelSchema.roles).includes(message.role)) {\n        throw new InvalidMessagesError({\n          info: `Invalid message content for model : '${this.modelName}'`,\n          cause: new Error(`model : '${this.modelName}' does not support role : '${message.role}', \n            available roles : [${Object.keys(this.modelSchema.roles).join(\", \")}]`),\n        });\n      }\n    });\n\n    const systemInstruction: GoogleChatSystemInstructionType = { parts: [] };\n    const nonSystemMessages: GoogleChatContentType[] = [];\n\n    parsedMessages.forEach((message) => {\n      switch (message.role) {\n        case SystemRoleLiteral:\n          {\n            message.content.forEach((content) => {\n              if (content.modality === TextModalityLiteral) {\n                systemInstruction.parts.push({ text: content.value });\n              } else {\n                throw new InvalidMessagesError({\n                  info: `Invalid message 'role' and 'modality' combination for model : ${this.modelName}`,\n                  cause: new Error(`role : '${message.role}' cannot have content with modality : '${content.modality}'`),\n                });\n              }\n            });\n          }\n          break;\n\n        case AssistantRoleLiteral:\n          {\n            const assistantContent: GoogleChatContentType[\"parts\"] = [];\n            message.content.forEach((content) => {\n              if (content.modality === TextModalityLiteral) {\n                assistantContent.push({ text: content.value });\n              } else if (content.modality === ToolCallModalityLiteral) {\n                assistantContent.push({\n                  function_call: {\n                    name: content.name,\n                    args: JSON.parse(content.arguments),\n                  },\n                });\n              } else {\n                throw new InvalidMessagesError({\n                  info: `Invalid message 'role' and 'modality' combination for model : ${this.modelName}`,\n                  cause: new Error(`role : '${message.role}' cannot have content with modality : '${content.modality}'`),\n                });\n              }\n            });\n            nonSystemMessages.push({\n              role: this.modelSchema.roles[message.role] as GoogleChatContentType[\"role\"],\n              parts: assistantContent,\n            });\n          }\n          break;\n\n        case UserRoleLiteral:\n          {\n            const userContent: GoogleChatContentType[\"parts\"] = [];\n            message.content.forEach((content) => {\n              if (content.modality === TextModalityLiteral) {\n                userContent.push({ text: content.value });\n              } else if (content.modality === ImageModalityLiteral) {\n                if (content.value.type === \"base64\") {\n                  let base64Data = content.value.base64;\n                  // Check and strip the data URL prefix if it exists.\n                  base64Data = stripBase64Prefix(base64Data);\n                  userContent.push({\n                    inline_data: {\n                      mime_type: `image/${content.value.mediaType}`,\n                      data: base64Data,\n                    },\n                  });\n                } else if (content.value.type === \"url\") {\n                  // TODO: add logic to fetch image from url, remove this error\n                  throw new InvalidMessagesError({\n                    info: `Invalid message 'modality' for model : ${this.modelName}`,\n                    cause: new Error(`model: '${this.modelName}' does not support image content type: '${content.value.type}'`),\n                  });\n                }\n              } else {\n                throw new InvalidMessagesError({\n                  info: `Invalid message 'role' and 'modality' combination for model : ${this.modelName}`,\n                  cause: new Error(`role : '${message.role}' cannot have content with modality : '${content.modality}'`),\n                });\n              }\n            });\n            nonSystemMessages.push({\n              role: this.modelSchema.roles[message.role] as GoogleChatContentType[\"role\"],\n              parts: userContent,\n            });\n          }\n          break;\n\n        case ToolRoleLiteral:\n          {\n            const toolResponseContent: GoogleChatContentPartFunctionResponseType[] = [];\n            message.content.forEach((content) => {\n              if (content.modality === ToolResponseModalityLiteral) {\n                toolResponseContent.push({\n                  function_response: {\n                    name: content.name,\n                    response: JSON.parse(content.data),\n                  },\n                });\n              } else {\n                throw new InvalidMessagesError({\n                  info: `Invalid message 'role' and 'modality' combination for model : ${this.modelName}`,\n                  cause: new Error(`role : '${message.role}' cannot have content with modality : '${content.modality}'`),\n                });\n              }\n            });\n            nonSystemMessages.push({\n              role: this.modelSchema.roles[message.role] as GoogleChatContentType[\"role\"],\n              parts: toolResponseContent,\n            });\n          }\n          break;\n\n        default: {\n          throw new InvalidMessagesError({\n            info: `Invalid message 'role' for model : ${this.modelName}`,\n            cause: new Error(`role : '${message.role}' is not supported, \n              available roles : [${Object.keys(this.modelSchema.roles).join(\", \")}]`),\n          });\n        }\n      }\n    });\n\n    if (nonSystemMessages[0].role !== this.modelSchema.roles[UserRoleLiteral]) {\n      throw new InvalidMessagesError({\n        info: `Invalid message 'role' for model : ${this.modelName}`,\n        cause: new Error(`model : '${this.modelName}' requires first message to be from user`),\n      });\n    }\n\n    const getNextExpectedRoles = (role: string): string[] => {\n      if (role === this.modelSchema.roles[UserRoleLiteral] || role === this.modelSchema.roles[ToolRoleLiteral]) {\n        return [this.modelSchema.roles[AssistantRoleLiteral] as string];\n      }\n      return [this.modelSchema.roles[UserRoleLiteral] as string, this.modelSchema.roles[ToolRoleLiteral] as string];\n    };\n\n    for (let i = 1; i < nonSystemMessages.length; i++) {\n      if (!getNextExpectedRoles(nonSystemMessages[i - 1].role).includes(nonSystemMessages[i].role)) {\n        throw new InvalidMessagesError({\n          info: `Invalid message format for model : ${this.modelName}`,\n          cause: new Error(\n            `model : '${this.modelName}' cannot have message with role : '${nonSystemMessages[i].role}' after message with role : '${nonSystemMessages[i - 1].role}'`\n          ),\n        });\n      }\n    }\n\n    if (\n      nonSystemMessages[nonSystemMessages.length - 1].role !== this.modelSchema.roles[UserRoleLiteral] &&\n      nonSystemMessages[nonSystemMessages.length - 1].role !== this.modelSchema.roles[ToolRoleLiteral]\n    ) {\n      throw new InvalidMessagesError({\n        info: `Invalid message format for model : ${this.modelName}`,\n        cause: new Error(`model : '${this.modelName}' requires last message to be from user`),\n      });\n    }\n\n    return {\n      contents: nonSystemMessages,\n      ...(systemInstruction.parts.length > 0 ? { system_instruction: systemInstruction } : {}),\n    };\n  }\n\n  transformTools(tools: ToolType[]): ParamsType {\n    if (!this.modelSchema.modalities.includes(ToolCallModalityLiteral)) {\n      throw new InvalidToolsError({\n        info: `Invalid tool 'modality' for model : ${this.modelName}`,\n        cause: new Error(`model : '${this.modelName}' does not support tool modality : '${ToolCallModalityLiteral}'`),\n      });\n    }\n\n    if (!tools || (tools && tools.length === 0)) {\n      return { tools: [] as ToolType[] };\n    }\n\n    const parsedTools = tools.map((tool) => {\n      const parsedTool = Tool().safeParse(tool);\n      if (!parsedTool.success) {\n        throw new InvalidToolsError({ info: \"Invalid tools\", cause: parsedTool.error });\n      }\n      return parsedTool.data;\n    });\n\n    const transformedTools = parsedTools.map((tool) => ({\n      name: tool.definition.schema.name,\n      description: tool.definition.schema.description,\n      parameters: tool.definition.schema.parameters,\n    }));\n\n    return {\n      tools: [\n        {\n          function_declarations: transformedTools,\n        },\n      ],\n    };\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  async getCompleteChatUrl(config?: ConfigType, messages?: MessageType[], tools?: ToolType[]): Promise<UrlType> {\n    return new Promise((resolve) => {\n      resolve(this.completeChatUrl);\n    });\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  async getCompleteChatHeaders(config?: ConfigType, messages?: MessageType[], tools?: ToolType[]): Promise<HeadersType> {\n    return new Promise((resolve) => {\n      resolve(this.getDefaultHeaders());\n    });\n  }\n\n  async getCompleteChatData(config: ConfigType, messages: MessageType[], tools?: ToolType[]): Promise<ParamsType> {\n    const transformedConfig = this.transformConfig(config, messages, tools);\n    const transformedMessages = this.transformMessages(messages);\n    if (transformedMessages.messages && (transformedMessages.messages as MessageType[]).length === 0) {\n      throw new InvalidMessagesError({\n        info: \"Messages are required\",\n        cause: new Error(\"Messages are required\"),\n      });\n    }\n\n    const transformedTools = tools ? this.transformTools(tools) : {};\n\n    return new Promise((resolve) => {\n      resolve({\n        ...this.getDefaultParams(),\n        ...transformedConfig,\n        ...transformedMessages,\n        ...transformedTools,\n      });\n    });\n  }\n\n  transformCompleteChatResponse(response: any): ChatResponseType {\n    const safe = GoogleCompleteChatResponse.safeParse(response);\n    if (safe.success) {\n      if (safe.data.candidates.length === 0) {\n        throw new ModelResponseError({\n          info: \"Invalid response from model\",\n          cause: new Error(`No choices in response : ${JSON.stringify(safe.data)}`),\n        });\n      }\n\n      const parsedResponse: GoogleCompleteChatResponseType = safe.data;\n      const messages: MessageType[] = [];\n      let usage: ChatUsageType | undefined;\n      const _content = parsedResponse.candidates[0].content;\n      if (_content) {\n        const content = _content.parts.map((contentItem: any, index: any) => {\n          if (\"text\" in contentItem && contentItem.text !== undefined) {\n            return createTextContent(contentItem.text);\n          } else if (\"functionCall\" in contentItem && contentItem.functionCall !== undefined) {\n            return createToolCallContent(\n              index,\n              `${contentItem.functionCall.name}_${index}`,\n              contentItem.functionCall.name,\n              JSON.stringify(contentItem.functionCall.args)\n            );\n          }\n        }) as ContentType[];\n\n        messages.push({\n          role: AssistantRoleLiteral,\n          content: content,\n        });\n\n        if (parsedResponse.usageMetadata) {\n          usage = {\n            promptTokens: parsedResponse.usageMetadata.promptTokenCount,\n            totalTokens: parsedResponse.usageMetadata.totalTokenCount,\n            completionTokens: parsedResponse.usageMetadata.candidatesTokenCount || 0,\n          };\n        }\n\n        return {\n          messages: messages,\n          usage: usage,\n          logProbs: undefined,\n        };\n      }\n\n      const safetyRatings = parsedResponse.candidates[0].safetyRatings;\n      if (safetyRatings && safetyRatings.length > 0) {\n        safetyRatings.forEach((rating) => {\n          if (rating.blocked) {\n            throw new ModelResponseError({\n              info: `Blocked content for category: ${rating.category} with probability: ${rating.probability}`,\n              cause: new Error(`Blocked content for category: ${rating.category} with probability: ${rating.probability}`),\n            });\n          }\n        });\n      }\n\n      const finishReason = parsedResponse.candidates[0].finishReason;\n      if (finishReason === \"SAFETY\") {\n        throw new ModelResponseError({\n          info: \"Blocked content, model response finished with safety reason\",\n          cause: new Error(\"Blocked content, model response finished with safety reason\"),\n        });\n      }\n    }\n\n    throw new ModelResponseError({ info: \"Invalid response from model\", cause: safe.error });\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  async getStreamChatUrl(config?: ConfigType, messages?: MessageType[], tools?: ToolType[]): Promise<UrlType> {\n    return new Promise((resolve) => {\n      resolve(this.streamChatUrl);\n    });\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  async getStreamChatHeaders(config?: ConfigType, messages?: MessageType[], tools?: ToolType[]): Promise<HeadersType> {\n    return new Promise((resolve) => {\n      resolve(this.getDefaultHeaders());\n    });\n  }\n\n  async getStreamChatData(config: ConfigType, messages: MessageType[], tools?: ToolType[]): Promise<ParamsType> {\n    const transformedConfig = this.transformConfig(config, messages, tools);\n    const transformedMessages = this.transformMessages(messages);\n    if (transformedMessages.messages && (transformedMessages.messages as MessageType[]).length === 0) {\n      throw new InvalidMessagesError({\n        info: \"Messages are required\",\n        cause: new Error(\"Messages are required\"),\n      });\n    }\n\n    const transformedTools = tools ? this.transformTools(tools) : {};\n\n    return new Promise((resolve) => {\n      resolve({\n        ...this.getDefaultParams(),\n        ...transformedConfig,\n        ...transformedMessages,\n        ...transformedTools,\n      });\n    });\n  }\n\n  async *transformStreamChatResponseChunk(\n    chunk: string,\n    buffer: string\n  ): AsyncGenerator<{ partialResponse: PartialChatResponseType; buffer: string }> {\n    // merge last buffer message and split into lines\n    const lines = (buffer + chunk).split(\",\\r\").filter((line) => line.trim() !== \"\");\n    for (const line of lines) {\n      let completeLine = line;\n      // remove all '\\n' from string JSON\n      completeLine = completeLine.replace(/\\n/g, \"\");\n      if (completeLine.startsWith(\"[\") || completeLine.startsWith(\",{\")) {\n        // start of stream, remove '['\n        completeLine = completeLine.slice(1);\n      } else if (completeLine.endsWith(\"]\")) {\n        if (completeLine === \"]\") {\n          // strict end of stream\n          return;\n        } else {\n          // remaining message and then end of stream, remove ']'\n          completeLine = completeLine.slice(0, -1);\n        }\n      }\n\n      let structuredLine: any;\n      try {\n        structuredLine = JSON.parse(completeLine);\n      } catch (error) {\n        // malformed JSON error, must be the end of loop\n        if (error instanceof SyntaxError) {\n          buffer = completeLine;\n          continue;\n        } else {\n          // non JSON parse error, re-raise\n          throw error;\n        }\n      }\n\n      // reset buffer\n      buffer = \"\";\n      const safe = GoogleStreamChatResponse.safeParse(structuredLine);\n      if (safe.success) {\n        const partialResponse: PartialChatResponseType = { partialMessages: [] };\n        const parsedResponse: GoogleStreamChatResponseType = safe.data;\n        if (parsedResponse.candidates.length > 0) {\n          const message = parsedResponse.candidates[0].content;\n          if (message && \"parts\" in message && message.parts.length > 0) {\n            message.parts.forEach((messagePart, index) => {\n              if (\"text\" in messagePart && messagePart.text !== undefined) {\n                partialResponse.partialMessages.push(createPartialTextMessage(AssistantRoleLiteral, messagePart.text));\n              }\n\n              if (\"functionCall\" in messagePart && messagePart.functionCall !== undefined) {\n                const toolCall = messagePart.functionCall;\n                partialResponse.partialMessages.push(\n                  createPartialToolCallMessage(\n                    AssistantRoleLiteral,\n                    index,\n                    `${toolCall.name}_${index}`,\n                    toolCall.name,\n                    JSON.stringify(toolCall.args)\n                  )\n                );\n              }\n            });\n          }\n        }\n\n        if (parsedResponse.usageMetadata) {\n          partialResponse.usage = {\n            promptTokens: parsedResponse.usageMetadata.promptTokenCount,\n            completionTokens: parsedResponse.usageMetadata.candidatesTokenCount,\n            totalTokens: parsedResponse.usageMetadata.totalTokenCount,\n          };\n        }\n\n        yield { partialResponse: partialResponse, buffer: buffer };\n      } else {\n        throw new ModelResponseError({ info: \"Invalid response from model\", cause: safe.error });\n      }\n    }\n\n    yield { partialResponse: { partialMessages: [] }, buffer: buffer };\n  }\n  async *transformProxyStreamChatResponseChunk(\n    chunk: string,\n    buffer: string,\n    data?: any,\n    headers?: Record<string, string>,\n    query?: Record<string, string>\n  ): AsyncGenerator<{ partialResponse: PartialChatResponseType; buffer: string }> {\n    // If query has alt not equal to 'sse', delegate to streamTransform logic\n    if (query?.alt !== \"sse\") {\n      yield* this.transformStreamChatResponseChunk(chunk, buffer);\n      return;\n    }\n\n    // --- proxyStreamTransform logic starts here ---\n    const newData = buffer + chunk;\n    let lines: string[] = [];\n    let newBuffer = \"\";\n\n    // Split newData into complete lines and new buffer\n    let currentIndex = 0;\n    while (currentIndex < newData.length) {\n      const newlineIndex = newData.indexOf(\"\\n\", currentIndex);\n      if (newlineIndex === -1) {\n        newBuffer = newData.substring(currentIndex);\n        break;\n      } else {\n        const line = newData.substring(currentIndex, newlineIndex).trim();\n        if (line) {\n          lines.push(line);\n        }\n        currentIndex = newlineIndex + 1;\n      }\n    }\n\n    // Process each complete line\n    for (const line of lines) {\n      if (line === \"data: [DONE]\") {\n        return; // End of stream\n      }\n\n      if (line.startsWith(\"data: \")) {\n        const jsonStr = line.substring(\"data: \".length);\n        try {\n          const structuredLine = JSON.parse(jsonStr);\n          const safe = GoogleStreamChatResponse.safeParse(structuredLine);\n          if (safe.success) {\n            const partialResponse: PartialChatResponseType = { partialMessages: [] };\n            const parsedResponse: GoogleStreamChatResponseType = safe.data;\n            if (parsedResponse.candidates.length > 0) {\n              const message = parsedResponse.candidates[0].content;\n              if (message && \"parts\" in message && message.parts.length > 0) {\n                message.parts.forEach((messagePart, index) => {\n                  if (\"text\" in messagePart && messagePart.text !== undefined) {\n                    partialResponse.partialMessages.push(createPartialTextMessage(AssistantRoleLiteral, messagePart.text));\n                  }\n\n                  if (\"functionCall\" in messagePart && messagePart.functionCall !== undefined) {\n                    const toolCall = messagePart.functionCall;\n                    partialResponse.partialMessages.push(\n                      createPartialToolCallMessage(\n                        AssistantRoleLiteral,\n                        index,\n                        `${toolCall.name}_${index}`,\n                        toolCall.name,\n                        JSON.stringify(toolCall.args)\n                      )\n                    );\n                  }\n                });\n              }\n            }\n\n            if (\n              parsedResponse.usageMetadata &&\n              parsedResponse.usageMetadata.totalTokenCount &&\n              parsedResponse.usageMetadata.promptTokenCount &&\n              parsedResponse.usageMetadata.candidatesTokenCount\n            ) {\n              partialResponse.usage = {\n                promptTokens: parsedResponse.usageMetadata.promptTokenCount,\n                completionTokens: parsedResponse.usageMetadata.candidatesTokenCount,\n                totalTokens: parsedResponse.usageMetadata.totalTokenCount,\n              };\n            }\n\n            yield { partialResponse: partialResponse, buffer: buffer };\n          } else {\n            throw new ModelResponseError({ info: \"Invalid response from model\", cause: safe.error });\n          }\n        } catch (error) {\n          throw new ModelResponseError({\n            info: `Malformed JSON received in stream: ${jsonStr}`,\n            cause: error,\n          });\n        }\n      }\n    }\n\n    // Yield the updated buffer after processing all lines\n    yield { partialResponse: { partialMessages: [] }, buffer: newBuffer };\n  }\n\n  async getProxyCompleteChatUrl(data?: any, headers?: Record<string, string>, query?: Record<string, string>): Promise<UrlType> {\n    return new Promise((resolve) => {\n      resolve(this.completeChatUrl);\n    });\n  }\n\n  async getProxyStreamChatUrl(data?: any, headers?: Record<string, string>, query?: Record<string, string>): Promise<UrlType> {\n    return new Promise((resolve) => {\n      if (!query || Object.keys(query).length === 0) {\n        resolve(this.streamChatUrl);\n        return;\n      }\n\n      const url = new URL(this.streamChatUrl);\n      Object.entries(query).forEach(([key, value]) => {\n        if (value != null) {\n          url.searchParams.set(key, value);\n        }\n      });\n\n      resolve(url.toString() as UrlType);\n    });\n  }\n  async getProxyCompleteChatHeaders(data?: any, headers?: Record<string, string>, query?: Record<string, string>): Promise<HeadersType> {\n    if (!headers) {\n      return {};\n    }\n    const sanitizedHeaders: Record<string, string> = { ...headers };\n\n    delete sanitizedHeaders.host;\n    delete sanitizedHeaders[\"content-length\"];\n    return sanitizedHeaders;\n  }\n  async getProxyStreamChatHeaders(data?: any, headers?: Record<string, string>, query?: Record<string, string>): Promise<HeadersType> {\n    // Directly delegate to getProxyCompleteChatHeaders for now\n    return await this.getProxyCompleteChatHeaders(data, headers, query);\n  }\n  getModelPricing(): ChatModelPriceType {\n    // Check if the modelName exists in pricingData before accessing it\n    if (!(this.modelName in pricingData)) {\n      throw new ModelResponseError({\n        info: `Invalid model pricing for model : '${this.modelName}'`,\n        cause: new Error(`No pricing configuration found for model \"${this.modelName}\"`),\n      });\n    }\n\n    const entry = pricingData[this.modelName as keyof typeof pricingData];\n    return entry as ChatModelPriceType;\n  }\n}\n\nexport { BaseChatModel, BaseChatModelOptions, type BaseChatModelOptionsType };\n","import { ParamsType } from \"@adaline/provider\";\nimport { MessageType, UserRoleLiteral } from \"@adaline/types\";\n\nimport { BaseChatModel } from \"./base-chat-model.google\";\nimport { GoogleChatContentType, GoogleChatSystemInstructionType } from \"./types\";\n\nclass BaseChatModelGemini1 extends BaseChatModel {\n  transformMessages(messages: MessageType[]): ParamsType {\n    const transformedMessages = super.transformMessages(messages) as {\n      contents: GoogleChatContentType[];\n      systemInstruction?: GoogleChatSystemInstructionType;\n    };\n\n    if (transformedMessages.systemInstruction) {\n      const systemUserMessage = {\n        role: this.modelSchema.roles[UserRoleLiteral] as GoogleChatContentType[\"role\"],\n        parts: transformedMessages.systemInstruction.parts,\n      };\n      transformedMessages.contents.unshift(systemUserMessage);\n      delete transformedMessages.systemInstruction;\n    }\n\n    return transformedMessages;\n  }\n}\n\nexport { BaseChatModelGemini1 };\n","import { z } from \"zod\";\n\nimport { ChatModelSchema } from \"@adaline/provider\";\n\nimport { GoogleChatModelConfigs } from \"../../configs\";\nimport pricingData from \"../pricing.json\";\nimport { BaseChatModelOptions } from \"./base-chat-model.google\";\nimport { BaseChatModelGemini1 } from \"./base-gemini-1-chat-model.google\";\nimport {\n  GoogleChatModelRoles,\n  GoogleChatModelRolesMap,\n  GoogleChatModelTextToolModalities,\n  GoogleChatModelTextToolModalitiesEnum,\n} from \"./types\";\n\nconst Gemini1_0Pro_001Literal = \"gemini-1.0-pro-001\";\nconst Gemini1_0Pro_001Description =\n  \"Google's predecessor to Gemini 1.5 Pro, a model for scaling across a wide range of tasks \\\n  Optimized for natural language tasks, multi-turn text and code chat, and code generation\";\n\nconst Gemini1_0Pro_001Schema = ChatModelSchema(GoogleChatModelRoles, GoogleChatModelTextToolModalitiesEnum).parse({\n  name: Gemini1_0Pro_001Literal,\n  description: Gemini1_0Pro_001Description,\n  maxInputTokens: 30720,\n  maxOutputTokens: 2048,\n  roles: GoogleChatModelRolesMap,\n  modalities: GoogleChatModelTextToolModalities,\n  config: {\n    def: GoogleChatModelConfigs.base(1.0, 0.9, 2048, 4, 1.0).def,\n    schema: GoogleChatModelConfigs.base(1.0, 0.9, 2048, 4, 1.0).schema,\n  },\n  price: pricingData[Gemini1_0Pro_001Literal],\n});\n\nconst Gemini1_0Pro_001Options = BaseChatModelOptions;\ntype Gemini1_0Pro_001OptionsType = z.infer<typeof Gemini1_0Pro_001Options>;\n\nclass Gemini1_0Pro_001 extends BaseChatModelGemini1 {\n  constructor(options: Gemini1_0Pro_001OptionsType) {\n    super(Gemini1_0Pro_001Schema, options);\n  }\n}\n\nexport { Gemini1_0Pro_001, Gemini1_0Pro_001Literal, Gemini1_0Pro_001Options, Gemini1_0Pro_001Schema, type Gemini1_0Pro_001OptionsType };\n","import { z } from \"zod\";\n\nimport { ChatModelSchema } from \"@adaline/provider\";\n\nimport { GoogleChatModelConfigs } from \"../../configs\";\nimport pricingData from \"../pricing.json\";\nimport { BaseChatModelOptions } from \"./base-chat-model.google\";\nimport { BaseChatModelGemini1 } from \"./base-gemini-1-chat-model.google\";\nimport {\n  GoogleChatModelRoles,\n  GoogleChatModelRolesMap,\n  GoogleChatModelTextToolModalities,\n  GoogleChatModelTextToolModalitiesEnum,\n} from \"./types\";\n\nconst Gemini1_0ProLatestLiteral = \"gemini-1.0-pro-latest\";\nconst Gemini1_0ProLatestDescription =\n  \"Google's latest multimodal model with great performance for high-frequency tasks. \\\n  Optimized for natural language tasks, multi-turn text and code chat, and code generation\";\n\nconst Gemini1_0ProLatestSchema = ChatModelSchema(GoogleChatModelRoles, GoogleChatModelTextToolModalitiesEnum).parse({\n  name: Gemini1_0ProLatestLiteral,\n  description: Gemini1_0ProLatestDescription,\n  maxInputTokens: 30720,\n  maxOutputTokens: 2048,\n  roles: GoogleChatModelRolesMap,\n  modalities: GoogleChatModelTextToolModalities,\n  config: {\n    def: GoogleChatModelConfigs.base(1.0, 0.9, 2048, 4, 1.0).def,\n    schema: GoogleChatModelConfigs.base(1.0, 0.9, 2048, 4, 1.0).schema,\n  },\n  price: pricingData[Gemini1_0ProLatestLiteral],\n});\n\nconst Gemini1_0ProLatestOptions = BaseChatModelOptions;\ntype Gemini1_0ProLatestOptionsType = z.infer<typeof Gemini1_0ProLatestOptions>;\n\nclass Gemini1_0ProLatest extends BaseChatModelGemini1 {\n  constructor(options: Gemini1_0ProLatestOptionsType) {\n    super(Gemini1_0ProLatestSchema, options);\n  }\n}\n\nexport {\n  Gemini1_0ProLatest,\n  Gemini1_0ProLatestLiteral,\n  Gemini1_0ProLatestOptions,\n  Gemini1_0ProLatestSchema,\n  type Gemini1_0ProLatestOptionsType,\n};\n","import { z } from \"zod\";\n\nimport { ChatModelSchema } from \"@adaline/provider\";\n\nimport { GoogleChatModelConfigs } from \"../../configs\";\nimport pricingData from \"../pricing.json\";\nimport { BaseChatModelOptions } from \"./base-chat-model.google\";\nimport { BaseChatModelGemini1 } from \"./base-gemini-1-chat-model.google\";\nimport {\n  GoogleChatModelRoles,\n  GoogleChatModelRolesMap,\n  GoogleChatModelTextVisionModalities,\n  GoogleChatModelTextVisionModalitiesEnum,\n} from \"./types\";\n\nconst Gemini1_0ProVisionLiteral = \"gemini-1.0-pro-vision\";\nconst Gemini1_0ProVisionDescription =\n  \"Google's predecessor to Gemini 1.5 Pro, an image understanding model to handle a broad range of applications\";\n\nconst Gemini1_0ProVisionSchema = ChatModelSchema(GoogleChatModelRoles, GoogleChatModelTextVisionModalitiesEnum).parse({\n  name: Gemini1_0ProVisionLiteral,\n  description: Gemini1_0ProVisionDescription,\n  maxInputTokens: 12288,\n  maxOutputTokens: 4096,\n  roles: GoogleChatModelRolesMap,\n  modalities: GoogleChatModelTextVisionModalities,\n  config: {\n    def: GoogleChatModelConfigs.c1(1.0, 0.4, 4096, 4, 1.0, 32).def,\n    schema: GoogleChatModelConfigs.c1(1.0, 0.4, 4096, 4, 1.0, 32).schema,\n  },\n  price: pricingData[Gemini1_0ProVisionLiteral],\n});\n\nconst Gemini1_0ProVisionOptions = BaseChatModelOptions;\ntype Gemini1_0ProVisionOptionsType = z.infer<typeof Gemini1_0ProVisionOptions>;\n\nclass Gemini1_0ProVision extends BaseChatModelGemini1 {\n  constructor(options: Gemini1_0ProVisionOptionsType) {\n    super(Gemini1_0ProVisionSchema, options);\n  }\n}\n\nexport {\n  Gemini1_0ProVision,\n  Gemini1_0ProVisionLiteral,\n  Gemini1_0ProVisionOptions,\n  Gemini1_0ProVisionSchema,\n  type Gemini1_0ProVisionOptionsType,\n};\n","import { z } from \"zod\";\n\nimport { ChatModelSchema } from \"@adaline/provider\";\n\nimport { GoogleChatModelConfigs } from \"../../configs\";\nimport pricingData from \"../pricing.json\";\nimport { BaseChatModelOptions } from \"./base-chat-model.google\";\nimport { BaseChatModelGemini1 } from \"./base-gemini-1-chat-model.google\";\nimport {\n  GoogleChatModelRoles,\n  GoogleChatModelRolesMap,\n  GoogleChatModelTextToolModalities,\n  GoogleChatModelTextToolModalitiesEnum,\n} from \"./types\";\n\nconst Gemini1_0ProLiteral = \"gemini-1.0-pro\";\nconst Gemini1_0ProDescription =\n  \"Google's predecessor to Gemini 1.5 Pro, a model for scaling across a wide range of tasks \\\n  Optimized for natural language tasks, multi-turn text and code chat, and code generation\";\n\nconst Gemini1_0ProSchema = ChatModelSchema(GoogleChatModelRoles, GoogleChatModelTextToolModalitiesEnum).parse({\n  name: Gemini1_0ProLiteral,\n  description: Gemini1_0ProDescription,\n  maxInputTokens: 30720,\n  maxOutputTokens: 2048,\n  roles: GoogleChatModelRolesMap,\n  modalities: GoogleChatModelTextToolModalities,\n  config: {\n    def: GoogleChatModelConfigs.base(1.0, 0.9, 2048, 4, 1.0).def,\n    schema: GoogleChatModelConfigs.base(1.0, 0.9, 2048, 4, 1.0).schema,\n  },\n  price: pricingData[Gemini1_0ProLiteral],\n});\n\nconst Gemini1_0ProOptions = BaseChatModelOptions;\ntype Gemini1_0ProOptionsType = z.infer<typeof Gemini1_0ProOptions>;\n\nclass Gemini1_0Pro extends BaseChatModelGemini1 {\n  constructor(options: Gemini1_0ProOptionsType) {\n    super(Gemini1_0ProSchema, options);\n  }\n}\n\nexport { Gemini1_0Pro, Gemini1_0ProLiteral, Gemini1_0ProOptions, Gemini1_0ProSchema, type Gemini1_0ProOptionsType };\n","import { z } from \"zod\";\n\nimport { ChatModelSchema } from \"@adaline/provider\";\n\nimport { GoogleChatModelConfigs } from \"../../configs\";\nimport pricingData from \"../pricing.json\";\nimport { BaseChatModel, BaseChatModelOptions } from \"./base-chat-model.google\";\nimport { GoogleChatModelModalities, GoogleChatModelModalitiesEnum, GoogleChatModelRoles, GoogleChatModelRolesMap } from \"./types\";\n\nconst Gemini1_5Flash001Literal = \"gemini-1.5-flash-001\";\nconst Gemini1_5Flash001Description =\n  \"Google's fastest, most cost-efficient multimodal model with great performance for high-frequency tasks. \\\n  Optimized for fast and versatile performance across a diverse variety of tasks\";\n\nconst Gemini1_5Flash001Schema = ChatModelSchema(GoogleChatModelRoles, GoogleChatModelModalitiesEnum).parse({\n  name: Gemini1_5Flash001Literal,\n  description: Gemini1_5Flash001Description,\n  maxInputTokens: 1000000,\n  maxOutputTokens: 8192,\n  roles: GoogleChatModelRolesMap,\n  modalities: GoogleChatModelModalities,\n  config: {\n    def: GoogleChatModelConfigs.c1(2.0, 1.0, 8192, 4, 0.95, 64).def,\n    schema: GoogleChatModelConfigs.c1(2.0, 1.0, 8192, 4, 0.95, 64).schema,\n  },\n  price: pricingData[Gemini1_5Flash001Literal],\n});\n\nconst Gemini1_5Flash001Options = BaseChatModelOptions;\ntype Gemini1_5Flash001OptionsType = z.infer<typeof Gemini1_5Flash001Options>;\n\nclass Gemini1_5Flash001 extends BaseChatModel {\n  constructor(options: Gemini1_5Flash001OptionsType) {\n    super(Gemini1_5Flash001Schema, options);\n  }\n}\n\nexport {\n  Gemini1_5Flash001,\n  Gemini1_5Flash001Literal,\n  Gemini1_5Flash001Options,\n  Gemini1_5Flash001Schema,\n  type Gemini1_5Flash001OptionsType,\n};\n","import { z } from \"zod\";\n\nimport { ChatModelSchema } from \"@adaline/provider\";\n\nimport { GoogleChatModelConfigs } from \"../../configs\";\nimport pricingData from \"../pricing.json\";\nimport { BaseChatModel, BaseChatModelOptions } from \"./base-chat-model.google\";\nimport { GoogleChatModelModalities, GoogleChatModelModalitiesEnum, GoogleChatModelRoles, GoogleChatModelRolesMap } from \"./types\";\n\nconst Gemini1_5Flash002Literal = \"gemini-1.5-flash-002\";\nconst Gemini1_5Flash002Description =\n  \"Google's fastest, most cost-efficient multimodal model with great performance for high-frequency tasks. \\\n  Optimized for fast and versatile performance across a diverse variety of tasks\";\n\nconst Gemini1_5Flash002Schema = ChatModelSchema(GoogleChatModelRoles, GoogleChatModelModalitiesEnum).parse({\n  name: Gemini1_5Flash002Literal,\n  description: Gemini1_5Flash002Description,\n  maxInputTokens: 1000000,\n  maxOutputTokens: 8192,\n  roles: GoogleChatModelRolesMap,\n  modalities: GoogleChatModelModalities,\n  config: {\n    def: GoogleChatModelConfigs.c1(2.0, 1.0, 8192, 4, 0.95, 40).def,\n    schema: GoogleChatModelConfigs.c1(2.0, 1.0, 8192, 4, 0.95, 40).schema,\n  },\n  price: pricingData[Gemini1_5Flash002Literal],\n});\n\nconst Gemini1_5Flash002Options = BaseChatModelOptions;\ntype Gemini1_5Flash002OptionsType = z.infer<typeof Gemini1_5Flash002Options>;\n\nclass Gemini1_5Flash002 extends BaseChatModel {\n  constructor(options: Gemini1_5Flash002OptionsType) {\n    super(Gemini1_5Flash002Schema, options);\n  }\n}\n\nexport {\n  Gemini1_5Flash002,\n  Gemini1_5Flash002Literal,\n  Gemini1_5Flash002Options,\n  Gemini1_5Flash002Schema,\n  type Gemini1_5Flash002OptionsType,\n};\n","import { z } from \"zod\";\n\nimport { ChatModelSchema } from \"@adaline/provider\";\n\nimport { GoogleChatModelConfigs } from \"../../configs\";\nimport pricingData from \"../pricing.json\";\nimport { BaseChatModel, BaseChatModelOptions } from \"./base-chat-model.google\";\nimport { GoogleChatModelModalities, GoogleChatModelModalitiesEnum, GoogleChatModelRoles, GoogleChatModelRolesMap } from \"./types\";\n\nconst Gemini1_5FlashLatestLiteral = \"gemini-1.5-flash-latest\";\nconst Gemini1_5FlashLatestDescription =\n  \"Google's latest multimodal model with great performance for high-frequency tasks. \\\n  Optimized for fast and versatile performance across a diverse variety of tasks\";\n\nconst Gemini1_5FlashLatestSchema = ChatModelSchema(GoogleChatModelRoles, GoogleChatModelModalitiesEnum).parse({\n  name: Gemini1_5FlashLatestLiteral,\n  description: Gemini1_5FlashLatestDescription,\n  maxInputTokens: 1000000,\n  maxOutputTokens: 8192,\n  roles: GoogleChatModelRolesMap,\n  modalities: GoogleChatModelModalities,\n  config: {\n    def: GoogleChatModelConfigs.c1(2.0, 1.0, 8192, 4, 0.95, 64).def,\n    schema: GoogleChatModelConfigs.c1(2.0, 1.0, 8192, 4, 0.95, 64).schema,\n  },\n  price: pricingData[Gemini1_5FlashLatestLiteral],\n});\n\nconst Gemini1_5FlashLatestOptions = BaseChatModelOptions;\ntype Gemini1_5FlashLatestOptionsType = z.infer<typeof Gemini1_5FlashLatestOptions>;\n\nclass Gemini1_5FlashLatest extends BaseChatModel {\n  constructor(options: Gemini1_5FlashLatestOptionsType) {\n    super(Gemini1_5FlashLatestSchema, options);\n  }\n}\n\nexport {\n  Gemini1_5FlashLatest,\n  Gemini1_5FlashLatestLiteral,\n  Gemini1_5FlashLatestOptions,\n  Gemini1_5FlashLatestSchema,\n  type Gemini1_5FlashLatestOptionsType,\n};\n","import { z } from \"zod\";\n\nimport { ChatModelSchema } from \"@adaline/provider\";\n\nimport { GoogleChatModelConfigs } from \"../../configs\";\nimport pricingData from \"../pricing.json\";\nimport { BaseChatModel, BaseChatModelOptions } from \"./base-chat-model.google\";\nimport { GoogleChatModelModalities, GoogleChatModelModalitiesEnum, GoogleChatModelRoles, GoogleChatModelRolesMap } from \"./types\";\n\nconst Gemini1_5FlashLiteral = \"gemini-1.5-flash\";\nconst Gemini1_5FlashDescription =\n  \"Google's fastest, most cost-efficient multimodal model with great performance for high-frequency tasks. \\\n  Optimized for fast and versatile performance across a diverse variety of tasks\";\n\nconst Gemini1_5FlashSchema = ChatModelSchema(GoogleChatModelRoles, GoogleChatModelModalitiesEnum).parse({\n  name: Gemini1_5FlashLiteral,\n  description: Gemini1_5FlashDescription,\n  maxInputTokens: 1000000,\n  maxOutputTokens: 8192,\n  roles: GoogleChatModelRolesMap,\n  modalities: GoogleChatModelModalities,\n  config: {\n    def: GoogleChatModelConfigs.c1(2.0, 1.0, 8192, 4, 0.95, 64).def,\n    schema: GoogleChatModelConfigs.c1(2.0, 1.0, 8192, 4, 0.95, 64).schema,\n  },\n  price: pricingData[Gemini1_5FlashLiteral],\n});\n\nconst Gemini1_5FlashOptions = BaseChatModelOptions;\ntype Gemini1_5FlashOptionsType = z.infer<typeof Gemini1_5FlashOptions>;\n\nclass Gemini1_5Flash extends BaseChatModel {\n  constructor(options: Gemini1_5FlashOptionsType) {\n    super(Gemini1_5FlashSchema, options);\n  }\n}\n\nexport { Gemini1_5Flash, Gemini1_5FlashLiteral, Gemini1_5FlashOptions, Gemini1_5FlashSchema, type Gemini1_5FlashOptionsType };\n","import { z } from \"zod\";\n\nimport { ChatModelSchema } from \"@adaline/provider\";\n\nimport { GoogleChatModelConfigs } from \"../../configs\";\nimport pricingData from \"../pricing.json\";\nimport { BaseChatModel, BaseChatModelOptions } from \"./base-chat-model.google\";\nimport { GoogleChatModelModalities, GoogleChatModelModalitiesEnum, GoogleChatModelRoles, GoogleChatModelRolesMap } from \"./types\";\n\nconst Gemini1_5Pro001Literal = \"gemini-1.5-pro-001\";\nconst Gemini1_5Pro001Description =\n  \"Google's best performing multimodal model with features for a wide variety of reasoning tasks. \\\n  Optimized for complex reasoning tasks requiring more intelligence\";\n\nconst Gemini1_5Pro001Schema = ChatModelSchema(GoogleChatModelRoles, GoogleChatModelModalitiesEnum).parse({\n  name: Gemini1_5Pro001Literal,\n  description: Gemini1_5Pro001Description,\n  maxInputTokens: 2000000,\n  maxOutputTokens: 8192,\n  roles: GoogleChatModelRolesMap,\n  modalities: GoogleChatModelModalities,\n  config: {\n    def: GoogleChatModelConfigs.c1(2.0, 1.0, 8192, 4, 0.95, 64).def,\n    schema: GoogleChatModelConfigs.c1(2.0, 1.0, 8192, 4, 0.95, 64).schema,\n  },\n  price: pricingData[Gemini1_5Pro001Literal],\n});\n\nconst Gemini1_5Pro001Options = BaseChatModelOptions;\ntype Gemini1_5Pro001OptionsType = z.infer<typeof Gemini1_5Pro001Options>;\n\nclass Gemini1_5Pro001 extends BaseChatModel {\n  constructor(options: Gemini1_5Pro001OptionsType) {\n    super(Gemini1_5Pro001Schema, options);\n  }\n}\n\nexport { Gemini1_5Pro001, Gemini1_5Pro001Literal, Gemini1_5Pro001Options, Gemini1_5Pro001Schema, type Gemini1_5Pro001OptionsType };\n","import { z } from \"zod\";\n\nimport { ChatModelSchema } from \"@adaline/provider\";\n\nimport { GoogleChatModelConfigs } from \"../../configs\";\nimport pricingData from \"../pricing.json\";\nimport { BaseChatModel, BaseChatModelOptions } from \"./base-chat-model.google\";\nimport { GoogleChatModelModalities, GoogleChatModelModalitiesEnum, GoogleChatModelRoles, GoogleChatModelRolesMap } from \"./types\";\n\nconst Gemini1_5Pro002Literal = \"gemini-1.5-pro-002\";\nconst Gemini1_5Pro002Description =\n  \"Google's best performing multimodal model with features for a wide variety of reasoning tasks. \\\n  Optimized for complex reasoning tasks requiring more intelligence\";\n\nconst Gemini1_5Pro002Schema = ChatModelSchema(GoogleChatModelRoles, GoogleChatModelModalitiesEnum).parse({\n  name: Gemini1_5Pro002Literal,\n  description: Gemini1_5Pro002Description,\n  maxInputTokens: 2000000,\n  maxOutputTokens: 8192,\n  roles: GoogleChatModelRolesMap,\n  modalities: GoogleChatModelModalities,\n  config: {\n    def: GoogleChatModelConfigs.c1(2.0, 1.0, 8192, 4, 0.95, 40).def,\n    schema: GoogleChatModelConfigs.c1(2.0, 1.0, 8192, 4, 0.95, 40).schema,\n  },\n  price: pricingData[Gemini1_5Pro002Literal],\n});\n\nconst Gemini1_5Pro002Options = BaseChatModelOptions;\ntype Gemini1_5Pro002OptionsType = z.infer<typeof Gemini1_5Pro002Options>;\n\nclass Gemini1_5Pro002 extends BaseChatModel {\n  constructor(options: Gemini1_5Pro002OptionsType) {\n    super(Gemini1_5Pro002Schema, options);\n  }\n}\n\nexport { Gemini1_5Pro002, Gemini1_5Pro002Literal, Gemini1_5Pro002Options, Gemini1_5Pro002Schema, type Gemini1_5Pro002OptionsType };\n","import { z } from \"zod\";\n\nimport { ChatModelSchema } from \"@adaline/provider\";\n\nimport { GoogleChatModelConfigs } from \"../../configs\";\nimport pricingData from \"../pricing.json\";\nimport { BaseChatModel, BaseChatModelOptions } from \"./base-chat-model.google\";\nimport { GoogleChatModelModalities, GoogleChatModelModalitiesEnum, GoogleChatModelRoles, GoogleChatModelRolesMap } from \"./types\";\n\nconst Gemini1_5ProLatestLiteral = \"gemini-1.5-pro-latest\";\nconst Gemini1_5ProLatestDescription =\n  \"Google's best performing multimodal model with features for a wide variety of reasoning tasks. \\\n  Optimized for complex reasoning tasks requiring more intelligence\";\n\nconst Gemini1_5ProLatestSchema = ChatModelSchema(GoogleChatModelRoles, GoogleChatModelModalitiesEnum).parse({\n  name: Gemini1_5ProLatestLiteral,\n  description: Gemini1_5ProLatestDescription,\n  maxInputTokens: 2000000,\n  maxOutputTokens: 8192,\n  roles: GoogleChatModelRolesMap,\n  modalities: GoogleChatModelModalities,\n  config: {\n    def: GoogleChatModelConfigs.c1(2.0, 1.0, 8192, 4, 0.95, 64).def,\n    schema: GoogleChatModelConfigs.c1(2.0, 1.0, 8192, 4, 0.95, 64).schema,\n  },\n  price: pricingData[Gemini1_5ProLatestLiteral],\n});\n\nconst Gemini1_5ProLatestOptions = BaseChatModelOptions;\ntype Gemini1_5ProLatestOptionsType = z.infer<typeof Gemini1_5ProLatestOptions>;\n\nclass Gemini1_5ProLatest extends BaseChatModel {\n  constructor(options: Gemini1_5ProLatestOptionsType) {\n    super(Gemini1_5ProLatestSchema, options);\n  }\n}\n\nexport {\n  Gemini1_5ProLatest,\n  Gemini1_5ProLatestLiteral,\n  Gemini1_5ProLatestOptions,\n  Gemini1_5ProLatestSchema,\n  type Gemini1_5ProLatestOptionsType,\n};\n","import { z } from \"zod\";\n\nimport { ChatModelSchema } from \"@adaline/provider\";\n\nimport { GoogleChatModelConfigs } from \"../../configs\";\nimport pricingData from \"../pricing.json\";\nimport { BaseChatModel, BaseChatModelOptions } from \"./base-chat-model.google\";\nimport { GoogleChatModelModalities, GoogleChatModelModalitiesEnum, GoogleChatModelRoles, GoogleChatModelRolesMap } from \"./types\";\n\nconst Gemini1_5ProLiteral = \"gemini-1.5-pro\";\nconst Gemini1_5ProDescription =\n  \"Google's best performing multimodal model with features for a wide variety of reasoning tasks. \\\n  Optimized for complex reasoning tasks requiring more intelligence\";\n\nconst Gemini1_5ProSchema = ChatModelSchema(GoogleChatModelRoles, GoogleChatModelModalitiesEnum).parse({\n  name: Gemini1_5ProLiteral,\n  description: Gemini1_5ProDescription,\n  maxInputTokens: 2000000,\n  maxOutputTokens: 8192,\n  roles: GoogleChatModelRolesMap,\n  modalities: GoogleChatModelModalities,\n  config: {\n    def: GoogleChatModelConfigs.c1(2.0, 1.0, 8192, 4, 0.95, 64).def,\n    schema: GoogleChatModelConfigs.c1(2.0, 1.0, 8192, 4, 0.95, 64).schema,\n  },\n  price: pricingData[Gemini1_5ProLiteral],\n});\n\nconst Gemini1_5ProOptions = BaseChatModelOptions;\ntype Gemini1_5ProOptionsType = z.infer<typeof Gemini1_5ProOptions>;\n\nclass Gemini1_5Pro extends BaseChatModel {\n  constructor(options: Gemini1_5ProOptionsType) {\n    super(Gemini1_5ProSchema, options);\n  }\n}\n\nexport { Gemini1_5Pro, Gemini1_5ProLiteral, Gemini1_5ProOptions, Gemini1_5ProSchema, type Gemini1_5ProOptionsType };\n","import { z } from \"zod\";\n\nimport { ChatModelSchema } from \"@adaline/provider\";\n\nimport { GoogleChatModelConfigs } from \"../../configs\";\nimport pricingData from \"../pricing.json\";\nimport { BaseChatModel, BaseChatModelOptions } from \"./base-chat-model.google\";\nimport { GoogleChatModelModalities, GoogleChatModelModalitiesEnum, GoogleChatModelRoles, GoogleChatModelRolesMap } from \"./types\";\n\nconst Gemini2_0FlashExpLiteral = \"gemini-2.0-flash-exp\";\nconst Gemini2_0FlashExpDescription =\n  \"Google's experimental multimodal model with enhanced capabilities. \\\n  Designed for cutting-edge performance across complex and high-frequency tasks.\";\n\nconst Gemini2_0FlashExpSchema = ChatModelSchema(GoogleChatModelRoles, GoogleChatModelModalitiesEnum).parse({\n  name: Gemini2_0FlashExpLiteral,\n  description: Gemini2_0FlashExpDescription,\n  maxInputTokens: 1000000,\n  maxOutputTokens: 8192,\n  roles: GoogleChatModelRolesMap,\n  modalities: GoogleChatModelModalities,\n  config: {\n    def: GoogleChatModelConfigs.c1(2.0, 1.0, 8192, 4, 0.95, 64).def,\n    schema: GoogleChatModelConfigs.c1(2.0, 1.0, 8192, 4, 0.95, 64).schema,\n  },\n  price: pricingData[Gemini2_0FlashExpLiteral],\n});\n\nconst Gemini2_0FlashExpOptions = BaseChatModelOptions;\ntype Gemini2_0FlashExpOptionsType = z.infer<typeof Gemini2_0FlashExpOptions>;\n\nclass Gemini2_0FlashExp extends BaseChatModel {\n  constructor(options: Gemini2_0FlashExpOptionsType) {\n    super(Gemini2_0FlashExpSchema, options);\n  }\n}\n\nexport {\n  Gemini2_0FlashExp,\n  Gemini2_0FlashExpLiteral,\n  Gemini2_0FlashExpOptions,\n  Gemini2_0FlashExpSchema,\n  type Gemini2_0FlashExpOptionsType,\n};\n","import { z } from \"zod\";\n\nimport { ChatModelSchema } from \"@adaline/provider\";\n\nimport { GoogleChatModelConfigs } from \"../../configs\";\nimport pricingData from \"../pricing.json\";\nimport { BaseChatModel, BaseChatModelOptions } from \"./base-chat-model.google\";\nimport { GoogleChatModelModalities, GoogleChatModelModalitiesEnum, GoogleChatModelRoles, GoogleChatModelRolesMap } from \"./types\";\n\nconst Gemini2_5FlashPreview0417Literal = \"gemini-2.5-flash-preview-04-17\";\nconst Gemini2_5FlashPreview0417Description =\n  \"Google's best model in Gemini 2.5 family in terms of price-performance, offering well-rounded capabilities.\";\n\nconst Gemini2_5FlashPreview0417Schema = ChatModelSchema(GoogleChatModelRoles, GoogleChatModelModalitiesEnum).parse({\n  name: Gemini2_5FlashPreview0417Literal,\n  description: Gemini2_5FlashPreview0417Description,\n  maxInputTokens: 1048576,\n  maxOutputTokens: 65536,\n  roles: GoogleChatModelRolesMap,\n  modalities: GoogleChatModelModalities,\n  config: {\n    def: GoogleChatModelConfigs.reasoning(2.0, 1.0, 65536, 4, 0.95, 64).def,\n    schema: GoogleChatModelConfigs.reasoning(2.0, 1.0, 65536, 4, 0.95, 64).schema,\n  },\n  price: pricingData[Gemini2_5FlashPreview0417Literal],\n});\n\nconst Gemini2_5FlashPreview0417Options = BaseChatModelOptions;\ntype Gemini2_5FlashPreview0417OptionsType = z.infer<typeof Gemini2_5FlashPreview0417Options>;\n\nclass Gemini2_5FlashPreview0417 extends BaseChatModel {\n  constructor(options: Gemini2_5FlashPreview0417OptionsType) {\n    super(Gemini2_5FlashPreview0417Schema, options);\n  }\n}\n\nexport {\n  Gemini2_5FlashPreview0417,\n  Gemini2_5FlashPreview0417Literal,\n  Gemini2_5FlashPreview0417Options,\n  Gemini2_5FlashPreview0417Schema,\n  type Gemini2_5FlashPreview0417OptionsType,\n};\n","import { z } from \"zod\";\n\nimport { ChatModelSchema } from \"@adaline/provider\";\n\nimport { GoogleChatModelConfigs } from \"../../configs\";\nimport pricingData from \"../pricing.json\";\nimport { BaseChatModel, BaseChatModelOptions } from \"./base-chat-model.google\";\nimport { GoogleChatModelModalities, GoogleChatModelModalitiesEnum, GoogleChatModelRoles, GoogleChatModelRolesMap } from \"./types\";\n\nconst Gemini2_5ProPreview0325Literal = \"gemini-2.5-pro-preview-03-25\";\nconst Gemini2_5ProPreview0325Description =\n  \"Google's preview model in Gemini 2.5 family for enhanced thinking, reasoning, multimodal understanding, and advanced coding.\";\n\nconst Gemini2_5ProPreview0325Schema = ChatModelSchema(GoogleChatModelRoles, GoogleChatModelModalitiesEnum).parse({\n  name: Gemini2_5ProPreview0325Literal,\n  description: Gemini2_5ProPreview0325Description,\n  maxInputTokens: 1048576,\n  maxOutputTokens: 65536,\n  roles: GoogleChatModelRolesMap,\n  modalities: GoogleChatModelModalities,\n  config: {\n    def: GoogleChatModelConfigs.reasoning(2.0, 1.0, 65536, 4, 0.95, 64).def,\n    schema: GoogleChatModelConfigs.reasoning(2.0, 1.0, 65536, 4, 0.95, 64).schema,\n  },\n  price: pricingData[Gemini2_5ProPreview0325Literal],\n});\n\nconst Gemini2_5ProPreview0325Options = BaseChatModelOptions;\ntype Gemini2_5ProPreview0325OptionsType = z.infer<typeof Gemini2_5ProPreview0325Options>;\n\nclass Gemini2_5ProPreview0325 extends BaseChatModel {\n  constructor(options: Gemini2_5ProPreview0325OptionsType) {\n    super(Gemini2_5ProPreview0325Schema, options);\n  }\n}\n\nexport {\n  Gemini2_5ProPreview0325,\n  Gemini2_5ProPreview0325Literal,\n  Gemini2_5ProPreview0325Options,\n  Gemini2_5ProPreview0325Schema,\n  type Gemini2_5ProPreview0325OptionsType,\n};\n","import { z } from \"zod\";\n\nimport { ChatModelSchema } from \"@adaline/provider\";\n\nimport { GoogleChatModelConfigs } from \"../../configs\";\nimport pricingData from \"../pricing.json\";\nimport { BaseChatModelOptions } from \"./base-chat-model.google\";\nimport { BaseChatModelGemini1 } from \"./base-gemini-1-chat-model.google\";\nimport {\n  GoogleChatModelRoles,\n  GoogleChatModelRolesMap,\n  GoogleChatModelTextVisionModalities,\n  GoogleChatModelTextVisionModalitiesEnum,\n} from \"./types\";\n\nconst GeminiProVisionLiteral = \"gemini-pro-vision\";\nconst GeminiProVisionDescription = \"An image understanding model to handle a broad range of applications\";\n\nconst GeminiProVisionSchema = ChatModelSchema(GoogleChatModelRoles, GoogleChatModelTextVisionModalitiesEnum).parse({\n  name: GeminiProVisionLiteral,\n  description: GeminiProVisionDescription,\n  maxInputTokens: 12288,\n  maxOutputTokens: 4096,\n  roles: GoogleChatModelRolesMap,\n  modalities: GoogleChatModelTextVisionModalities,\n  config: {\n    def: GoogleChatModelConfigs.c1(1.0, 0.4, 4096, 4, 1.0, 32).def,\n    schema: GoogleChatModelConfigs.c1(1.0, 0.4, 4096, 4, 1.0, 32).schema,\n  },\n  price: pricingData[GeminiProVisionLiteral],\n});\n\nconst GeminiProVisionOptions = BaseChatModelOptions;\ntype GeminiProVisionOptionsType = z.infer<typeof GeminiProVisionOptions>;\n\nclass GeminiProVision extends BaseChatModelGemini1 {\n  constructor(options: GeminiProVisionOptionsType) {\n    super(GeminiProVisionSchema, options);\n  }\n}\n\nexport { GeminiProVision, GeminiProVisionLiteral, GeminiProVisionOptions, GeminiProVisionSchema, type GeminiProVisionOptionsType };\n","import { z } from \"zod\";\n\nimport { ChatModelSchema } from \"@adaline/provider\";\n\nimport { GoogleChatModelConfigs } from \"../../configs\";\nimport pricingData from \"../pricing.json\";\nimport { BaseChatModelOptions } from \"./base-chat-model.google\";\nimport { BaseChatModelGemini1 } from \"./base-gemini-1-chat-model.google\";\nimport {\n  GoogleChatModelRoles,\n  GoogleChatModelRolesMap,\n  GoogleChatModelTextToolModalities,\n  GoogleChatModelTextToolModalitiesEnum,\n} from \"./types\";\n\nconst GeminiProLiteral = \"gemini-pro\";\nconst GeminiProDescription =\n  \"A model for scaling across a wide range of tasks \\\n  Optimized for natural language tasks, multi-turn text and code chat, and code generation\";\n\nconst GeminiProSchema = ChatModelSchema(GoogleChatModelRoles, GoogleChatModelTextToolModalitiesEnum).parse({\n  name: GeminiProLiteral,\n  description: GeminiProDescription,\n  maxInputTokens: 30720,\n  maxOutputTokens: 2048,\n  roles: GoogleChatModelRolesMap,\n  modalities: GoogleChatModelTextToolModalities,\n  config: {\n    def: GoogleChatModelConfigs.base(1.0, 0.9, 2048, 4, 1.0).def,\n    schema: GoogleChatModelConfigs.base(1.0, 0.9, 2048, 4, 1.0).schema,\n  },\n  price: pricingData[GeminiProLiteral],\n});\n\nconst GeminiProOptions = BaseChatModelOptions;\ntype GeminiProOptionsType = z.infer<typeof GeminiProOptions>;\n\nclass GeminiPro extends BaseChatModelGemini1 {\n  constructor(options: GeminiProOptionsType) {\n    super(GeminiProSchema, options);\n  }\n}\n\nexport { GeminiPro, GeminiProLiteral, GeminiProOptions, GeminiProSchema, type GeminiProOptionsType };\n","import { z } from \"zod\";\n\nimport { EmbeddingModelSchemaType } from \"@adaline/provider\";\nimport { EmbeddingTextModalityLiteral } from \"@adaline/types\";\n\nconst GoogleEmbeddingModelModalities: EmbeddingModelSchemaType[\"modalities\"] = [EmbeddingTextModalityLiteral];\n\nconst GoogleEmbeddingModelModalitiesEnum = z.enum([EmbeddingTextModalityLiteral]);\n\nexport { GoogleEmbeddingModelModalitiesEnum, GoogleEmbeddingModelModalities };\n","import { z } from \"zod\";\n\nconst GoogleGetEmbeddingsResponse = z.object({\n  embeddings: z.array(\n    z.object({\n      values: z.array(z.number()),\n    })\n  ),\n});\ntype GoogleGetEmbeddingsResponseType = z.infer<typeof GoogleGetEmbeddingsResponse>;\n\nexport { GoogleGetEmbeddingsResponse, type GoogleGetEmbeddingsResponseType };\n","import { z } from \"zod\";\n\nconst GoogleEmbeddingRequestInput = z.object({\n  model: z.string().min(1),\n  content: z.object({\n    parts: z\n      .array(\n        z.object({\n          text: z.string().min(1),\n        })\n      )\n      .min(1),\n  }),\n});\ntype GoogleEmbeddingRequestInputType = z.infer<typeof GoogleEmbeddingRequestInput>;\n\nconst GoogleEmbeddingRequest = z.object({\n  model: z.string().min(1).optional(),\n  requests: z.array(GoogleEmbeddingRequestInput).min(1),\n  outputDimensionality: z.number().int().min(1).optional(),\n});\ntype GoogleEmbeddingRequestType = z.infer<typeof GoogleEmbeddingRequest>;\n\nexport { GoogleEmbeddingRequest, GoogleEmbeddingRequestInput, type GoogleEmbeddingRequestType, type GoogleEmbeddingRequestInputType };\n","import { z } from \"zod\";\n\nimport {\n  EmbeddingModelSchemaType,\n  EmbeddingModelV1,\n  HeadersType,\n  InvalidConfigError,\n  InvalidEmbeddingRequestsError,\n  InvalidModelRequestError,\n  ModelResponseError,\n  ParamsType,\n  removeUndefinedEntries,\n  UrlType,\n  urlWithoutTrailingSlash,\n} from \"@adaline/provider\";\nimport {\n  Config,\n  ConfigType,\n  EmbeddingRequests,\n  EmbeddingRequestsType,\n  EmbeddingResponseType,\n  EmbeddingTextModalityLiteral,\n  FloatEmbeddingLiteral,\n  FloatEmbeddingType,\n} from \"@adaline/types\";\n\nimport { Google } from \"../../provider/provider.google\";\nimport { GoogleEmbeddingRequest, GoogleEmbeddingRequestInputType, GoogleGetEmbeddingsResponse } from \"./types\";\n\nconst BaseEmbeddingModelOptions = z.object({\n  modelName: z.string(),\n  apiKey: z.string(),\n  baseUrl: z.string().url().optional(),\n  getEmbeddingsUrl: z.string().url().optional(),\n});\ntype BaseEmbeddingModelOptionsType = z.infer<typeof BaseEmbeddingModelOptions>;\n\nclass BaseEmbeddingModel implements EmbeddingModelV1<EmbeddingModelSchemaType> {\n  readonly version = \"v1\" as const;\n  modelSchema: EmbeddingModelSchemaType;\n  readonly modelName: string;\n\n  private readonly apiKey: string;\n  private readonly baseUrl: string;\n  private readonly getEmbeddingsUrl: string;\n\n  constructor(modelSchema: EmbeddingModelSchemaType, options: BaseEmbeddingModelOptionsType) {\n    const parsedOptions = BaseEmbeddingModelOptions.parse(options);\n    this.modelSchema = modelSchema;\n    this.modelName = parsedOptions.modelName;\n    this.apiKey = parsedOptions.apiKey;\n    this.baseUrl = urlWithoutTrailingSlash(parsedOptions.baseUrl || Google.baseUrl);\n    this.getEmbeddingsUrl = urlWithoutTrailingSlash(\n      parsedOptions.getEmbeddingsUrl || `${this.baseUrl}/models/${this.modelName}:batchEmbedContents?key=${this.apiKey}`\n    );\n  }\n\n  getDefaultBaseUrl(): UrlType {\n    return this.baseUrl;\n  }\n\n  getDefaultHeaders(): HeadersType {\n    return {\n      \"Content-Type\": \"application/json\",\n    };\n  }\n\n  getDefaultParams(): ParamsType {\n    return {\n      model: this.modelName,\n    };\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  getRetryDelay(responseHeaders: HeadersType): { shouldRetry: boolean; delayMs: number } {\n    return { shouldRetry: false, delayMs: 0 };\n  }\n\n  // TODO: unused method, not tested\n  getTokenCount(requests: EmbeddingRequestsType): number {\n    return requests.requests.reduce((acc, request) => acc + request.length, 0);\n  }\n\n  transformModelRequest(request: any): {\n    modelName: string | undefined;\n    config: ConfigType;\n    embeddingRequests: EmbeddingRequestsType;\n  } {\n    const safeRequest = GoogleEmbeddingRequest.safeParse(request);\n    if (!safeRequest.success) {\n      throw new InvalidModelRequestError({ info: \"Invalid model request\", cause: safeRequest.error });\n    }\n\n    const parsedRequest = safeRequest.data;\n\n    const modelName = parsedRequest.model;\n\n    const _config = {\n      outputDimensionality: parsedRequest.outputDimensionality,\n    };\n    const config = Config().parse(removeUndefinedEntries(_config));\n\n    const embeddingRequests: EmbeddingRequestsType = {\n      modality: EmbeddingTextModalityLiteral,\n      requests: parsedRequest.requests.reduce((acc, request) => {\n        acc.push(...request.content.parts.map((p) => p.text));\n        return acc;\n      }, [] as string[]),\n    };\n\n    return {\n      modelName,\n      config,\n      embeddingRequests,\n    };\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  transformConfig(config: ConfigType, requests?: EmbeddingRequestsType): ParamsType {\n    const _parsedConfig = this.modelSchema.config.schema.safeParse(config);\n    if (!_parsedConfig.success) {\n      throw new InvalidConfigError({\n        info: `Invalid config for model : '${this.modelName}'`,\n        cause: _parsedConfig.error,\n      });\n    }\n\n    const parsedConfig = _parsedConfig.data as ConfigType;\n    Object.keys(parsedConfig as ConfigType).forEach((key) => {\n      if (!this.modelSchema.config.def[key]) {\n        throw new InvalidConfigError({\n          info: `Invalid config for model : '${this.modelName}'`,\n          cause: new Error(`Invalid config key : '${key}', \n            available keys : [${Object.keys(this.modelSchema.config.def).join(\", \")}]`),\n        });\n      }\n    });\n\n    const transformedConfig = Object.keys(parsedConfig).reduce((acc, key) => {\n      const def = this.modelSchema.config.def[key];\n      const paramKey = def.param;\n      const paramValue = parsedConfig[key];\n      acc[paramKey] = paramValue;\n      return acc;\n    }, {} as ParamsType);\n\n    return transformedConfig;\n  }\n\n  transformEmbeddingRequests(requests: EmbeddingRequestsType): ParamsType {\n    const _parsedRequests = EmbeddingRequests().safeParse(requests);\n    if (!_parsedRequests.success) {\n      throw new InvalidEmbeddingRequestsError({ info: \"Invalid embedding requests\", cause: _parsedRequests.error });\n    }\n\n    if (requests.modality !== EmbeddingTextModalityLiteral) {\n      throw new InvalidEmbeddingRequestsError({\n        info: `Invalid embedding requests for model : '${this.modelName}'`,\n        cause: new Error(`Only '${EmbeddingTextModalityLiteral}' modality is supported for model : '${this.modelName}'`),\n      });\n    }\n\n    const _requests: GoogleEmbeddingRequestInputType[] = _parsedRequests.data.requests.map((request) => {\n      return {\n        model: `models/${this.modelName}`,\n        content: { parts: [{ text: request as string }] },\n      };\n    });\n\n    return {\n      requests: _requests,\n    };\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  async getGetEmbeddingsUrl(config?: ConfigType, requests?: EmbeddingRequestsType): Promise<UrlType> {\n    return new Promise((resolve) => {\n      resolve(this.getEmbeddingsUrl);\n    });\n  }\n\n  // eslint-disable-next-line @typescript-eslint/no-unused-vars\n  async getGetEmbeddingsHeaders(config?: ConfigType, requests?: EmbeddingRequestsType): Promise<HeadersType> {\n    return new Promise((resolve) => {\n      resolve(this.getDefaultHeaders());\n    });\n  }\n\n  async getGetEmbeddingsData(config: ConfigType, requests: EmbeddingRequestsType): Promise<ParamsType> {\n    return new Promise((resolve) => {\n      const _config = this.transformConfig(config);\n      const _requests = this.transformEmbeddingRequests(requests);\n\n      if (requests.requests.length === 0) {\n        throw new InvalidEmbeddingRequestsError({\n          info: `Invalid embedding requests for model : '${this.modelName}'`,\n          cause: new Error(\"requests cannot be empty\"),\n        });\n      }\n\n      if (_config.outputDimensionality) {\n        (_requests as any).requests.forEach((request: any) => {\n          request.outputDimensionality = _config.outputDimensionality;\n        });\n        delete _config.outputDimensionality;\n      }\n\n      resolve({\n        ...this.getDefaultParams(),\n        ..._config,\n        ..._requests,\n      });\n    });\n  }\n\n  transformGetEmbeddingsResponse(response: any): EmbeddingResponseType {\n    const safe = GoogleGetEmbeddingsResponse.safeParse(response);\n    if (safe.success) {\n      const parsedResponse = safe.data;\n      const embeddings = parsedResponse.embeddings.map((embedding, index) => {\n        return {\n          index,\n          embedding: embedding.values,\n        } as FloatEmbeddingType;\n      });\n\n      return {\n        encodingFormat: FloatEmbeddingLiteral,\n        embeddings: embeddings,\n      } as EmbeddingResponseType;\n    }\n\n    throw new ModelResponseError({ info: \"Invalid response from model\", cause: safe.error });\n  }\n}\n\nexport { BaseEmbeddingModel, BaseEmbeddingModelOptions, type BaseEmbeddingModelOptionsType };\n","import { z } from \"zod\";\n\nimport { EmbeddingModelSchema } from \"@adaline/provider\";\n\nimport { GoogleEmbeddingModelConfigs } from \"../../configs\";\nimport { BaseEmbeddingModel, BaseEmbeddingModelOptions } from \"./base-embedding-model.google\";\nimport { GoogleEmbeddingModelModalities, GoogleEmbeddingModelModalitiesEnum } from \"./types\";\n\nconst Text_Embedding_001Literal = \"text-embedding-001\";\nconst Text_Embedding_001_Description = \"text-embedding-001\";\n\nconst Text_Embedding_001Schema = EmbeddingModelSchema(GoogleEmbeddingModelModalitiesEnum).parse({\n  name: Text_Embedding_001Literal,\n  description: Text_Embedding_001_Description,\n  modalities: GoogleEmbeddingModelModalities,\n  maxInputTokens: 2048,\n  maxOutputTokens: 768,\n  config: {\n    def: GoogleEmbeddingModelConfigs.base(768).def,\n    schema: GoogleEmbeddingModelConfigs.base(768).schema,\n  },\n});\n\nconst Text_Embedding_001Options = BaseEmbeddingModelOptions;\ntype Text_Embedding_001OptionsType = z.infer<typeof Text_Embedding_001Options>;\n\nclass Text_Embedding_001 extends BaseEmbeddingModel {\n  constructor(options: Text_Embedding_001OptionsType) {\n    super(Text_Embedding_001Schema, options);\n  }\n}\n\nexport {\n  Text_Embedding_001,\n  Text_Embedding_001Options,\n  Text_Embedding_001Schema,\n  Text_Embedding_001Literal,\n  type Text_Embedding_001OptionsType,\n};\n","import { z } from \"zod\";\n\nimport { EmbeddingModelSchema } from \"@adaline/provider\";\n\nimport { GoogleEmbeddingModelConfigs } from \"../../configs\";\nimport { BaseEmbeddingModel, BaseEmbeddingModelOptions } from \"./base-embedding-model.google\";\nimport { GoogleEmbeddingModelModalities, GoogleEmbeddingModelModalitiesEnum } from \"./types\";\n\nconst Text_Embedding_004Literal = \"text-embedding-004\";\nconst Text_Embedding_004_Description = \"text-embedding-004\";\n\nconst Text_Embedding_004Schema = EmbeddingModelSchema(GoogleEmbeddingModelModalitiesEnum).parse({\n  name: Text_Embedding_004Literal,\n  description: Text_Embedding_004_Description,\n  modalities: GoogleEmbeddingModelModalities,\n  maxInputTokens: 2048,\n  maxOutputTokens: 768,\n  config: {\n    def: GoogleEmbeddingModelConfigs.base(768).def,\n    schema: GoogleEmbeddingModelConfigs.base(768).schema,\n  },\n});\n\nconst Text_Embedding_004Options = BaseEmbeddingModelOptions;\ntype Text_Embedding_004OptionsType = z.infer<typeof Text_Embedding_004Options>;\n\nclass Text_Embedding_004 extends BaseEmbeddingModel {\n  constructor(options: Text_Embedding_004OptionsType) {\n    super(Text_Embedding_004Schema, options);\n  }\n}\n\nexport {\n  Text_Embedding_004,\n  Text_Embedding_004Options,\n  Text_Embedding_004Schema,\n  Text_Embedding_004Literal,\n  type Text_Embedding_004OptionsType,\n};\n"]}